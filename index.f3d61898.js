!function(){function t(t){return t&&t.__esModule?t.default:t}var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{};function n(t,e,n,r){Object.defineProperty(t,e,{get:n,set:r,enumerable:!0,configurable:!0})}var r={},i={},o=e.parcelRequired7c6;null==o&&((o=function(t){if(t in r)return r[t].exports;if(t in i){var e=i[t];delete i[t];var n={id:t,exports:{}};return r[t]=n,e.call(n.exports,n,n.exports),n.exports}var o=new Error("Cannot find module '"+t+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(t,e){i[t]=e},e.parcelRequired7c6=o),o.register("hKHmD",(function(t,e){"use strict";Object.defineProperty(t.exports,"__esModule",{value:!0}),t.exports.default=function(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n;return t}})),o.register("ds8z5",(function(t,e){"use strict";Object.defineProperty(t.exports,"__esModule",{value:!0}),t.exports.default=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}})),o.register("gD1JV",(function(t,e){"use strict";function n(t,e){return(n=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}Object.defineProperty(t.exports,"__esModule",{value:!0}),t.exports.default=function(t,e){return n(t,e)}})),o.register("8slrw",(function(t,e){"use strict";Object.defineProperty(t.exports,"__esModule",{value:!0}),t.exports.default=function(t){if(Array.isArray(t))return t}})),o.register("7AJDX",(function(t,e){"use strict";Object.defineProperty(t.exports,"__esModule",{value:!0}),t.exports.default=function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}})),o.register("ifqQW",(function(t,e){"use strict";Object.defineProperty(t.exports,"__esModule",{value:!0}),t.exports.default=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}})),o.register("auk6i",(function(t,e){"use strict";Object.defineProperty(t.exports,"__esModule",{value:!0}),t.exports.default=function(t,e){if(!t)return;if("string"==typeof t)return r.default(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r.default(t,e)};var n,r=(n=o("8NIkP"))&&n.__esModule?n:{default:n}})),o.register("8NIkP",(function(t,e){"use strict";Object.defineProperty(t.exports,"__esModule",{value:!0}),t.exports.default=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}})),o.register("kMC0W",(function(t,e){"use strict";Object.defineProperty(t.exports,"__esModule",{value:!0}),t.exports.default=function(t){if(Array.isArray(t))return r.default(t)};var n,r=(n=o("8NIkP"))&&n.__esModule?n:{default:n}})),o.register("8CtQK",(function(t,e){"use strict";Object.defineProperty(t.exports,"__esModule",{value:!0}),t.exports.default=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}})),o.register("ge8co",(function(t,e){"use strict";Object.defineProperty(t.exports,"__esModule",{value:!0}),t.exports.default=function(t,e,n){return a.apply(null,arguments)};var n,r=(n=o("gD1JV"))&&n.__esModule?n:{default:n};function i(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function a(t,e,n){return(a=i()?Reflect.construct:function(t,e,n){var i=[null];i.push.apply(i,e);var o=new(Function.bind.apply(t,i));return n&&r.default(o,n.prototype),o}).apply(null,arguments)}})),o.register("cZGw3",(function(t,e){"use strict";Object.defineProperty(t.exports,"__esModule",{value:!0}),t.exports.default=function(t){return-1!==Function.toString.call(t).indexOf("[native code]")}})),o.register("fVNic",(function(t,e){"use strict";function n(t){return(n=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}Object.defineProperty(t.exports,"__esModule",{value:!0}),t.exports.default=function(t){return n(t)}})),o.register("aTHs7",(function(t,e){"use strict";Object.defineProperty(t.exports,"__esModule",{value:!0}),t.exports.default=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}})),o.register("jmhxu",(function(t,e){"use strict";Object.defineProperty(t.exports,"__esModule",{value:!0}),t.exports.default=function(t,e){return!e||"object"!==r.default(e)&&"function"!=typeof e?n.default(t):e};var n=i(o("ds8z5")),r=i(o("l5bVx"));function i(t){return t&&t.__esModule?t:{default:t}}})),o.register("l5bVx",(function(t,e){"use strict";Object.defineProperty(t.exports,"__esModule",{value:!0}),t.exports.default=function(t){return t&&t.constructor===Symbol?"symbol":typeof t}})),o.register("2mz0K",(function(t,e){"use strict";Object.defineProperty(t.exports,"__esModule",{value:!0}),t.exports.default=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=r.default(t)););return t};var n,r=(n=o("fVNic"))&&n.__esModule?n:{default:n}}));var a={};Object.defineProperty(a,"__esModule",{value:!0}),a.default=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")};var s={};function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}Object.defineProperty(s,"__esModule",{value:!0}),s.default=function(t,e,n){e&&u(t.prototype,e);n&&u(t,n);return t};var c=o("hKHmD"),l=o("ds8z5"),h={};Object.defineProperty(h,"__esModule",{value:!0}),h.default=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&p.default(t,e)};var f,p=(f=o("gD1JV"))&&f.__esModule?f:{default:f};var d={};Object.defineProperty(d,"__esModule",{value:!0}),d.default=function(t,e){return v.default(t)||g.default(t,e)||m.default(t,e)||y.default()};var v=b(o("8slrw")),g=b(o("7AJDX")),y=b(o("ifqQW")),m=b(o("auk6i"));function b(t){return t&&t.__esModule?t:{default:t}}var w={};Object.defineProperty(w,"__esModule",{value:!0}),w.default=function(t){return k.default(t)||E.default(t)||S.default(t)||_.default()};var k=T(o("kMC0W")),E=T(o("7AJDX")),_=T(o("8CtQK")),S=T(o("auk6i"));function T(t){return t&&t.__esModule?t:{default:t}}var A={};Object.defineProperty(A,"__esModule",{value:!0}),A.default=function(t){return L(t)};var I=O(o("ge8co")),C=O(o("cZGw3")),x=O(o("fVNic")),D=O(o("gD1JV"));function O(t){return t&&t.__esModule?t:{default:t}}function L(t){var e="function"==typeof Map?new Map:void 0;return L=function(t){if(null===t||!C.default(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return I.default(t,arguments,x.default(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),D.default(n,t)},L(t)}var N={};Object.defineProperty(N,"__esModule",{value:!0}),N.default=function(t){var e=R.default();return function(){var n,r=P.default(t);if(e){var i=P.default(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return M.default(this,n)}};var R=j(o("aTHs7")),P=j(o("fVNic")),M=j(o("jmhxu"));function j(t){return t&&t.__esModule?t:{default:t}}var F,U,B,V=F={};function H(){throw new Error("setTimeout has not been defined")}function z(){throw new Error("clearTimeout has not been defined")}function G(t){if(U===setTimeout)return setTimeout(t,0);if((U===H||!U)&&setTimeout)return U=setTimeout,setTimeout(t,0);try{return U(t,0)}catch(e){try{return U.call(null,t,0)}catch(e){return U.call(this,t,0)}}}!function(){try{U="function"==typeof setTimeout?setTimeout:H}catch(t){U=H}try{B="function"==typeof clearTimeout?clearTimeout:z}catch(t){B=z}}();var K,X=[],W=!1,q=-1;function Y(){W&&K&&(W=!1,K.length?X=K.concat(X):q=-1,X.length&&J())}function J(){if(!W){var t=G(Y);W=!0;for(var e=X.length;e;){for(K=X,X=[];++q<e;)K&&K[q].run();q=-1,e=X.length}K=null,W=!1,function(t){if(B===clearTimeout)return clearTimeout(t);if((B===z||!B)&&clearTimeout)return B=clearTimeout,clearTimeout(t);try{B(t)}catch(e){try{return B.call(null,t)}catch(e){return B.call(this,t)}}}(t)}}function Q(t,e){this.fun=t,this.array=e}function $(){}V.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];X.push(new Q(t,e)),1!==X.length||W||G(J)},Q.prototype.run=function(){this.fun.apply(null,this.array)},V.title="browser",V.browser=!0,V.env={},V.argv=[],V.version="",V.versions={},V.on=$,V.addListener=$,V.once=$,V.off=$,V.removeListener=$,V.removeAllListeners=$,V.emit=$,V.prependListener=$,V.prependOnceListener=$,V.listeners=function(t){return[]},V.binding=function(t){throw new Error("process.binding is not supported")},V.cwd=function(){return"/"},V.chdir=function(t){throw new Error("process.chdir is not supported")},V.umask=function(){return 0};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Z=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},tt={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],a=i+1<t.length,s=a?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,l=o>>2,h=(3&o)<<4|s>>4,f=(15&s)<<2|c>>6,p=63&c;u||(p=64,a||(f=64)),r.push(n[l],n[h],n[f],n[p])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Z(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var a=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(a>>10)),e[r++]=String.fromCharCode(56320+(1023&a))}else{var s=t[n++],u=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&u)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0,s=++i<t.length?n[t.charAt(i)]:64,u=++i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==a||null==s||null==u)throw new et;var c=o<<2|a>>4;if(r.push(c),64!==s){var l=a<<4&240|s>>2;if(r.push(l),64!==u){var h=s<<6&192|u;r.push(h)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},et=function(e){"use strict";t(h)(r,e);var n=t(N)(r);function r(){var e;return t(a)(this,r),(e=n.call.apply(n,[this].concat(Array.prototype.slice.call(arguments)))).name="DecodeBase64StringError",e}return r}(t(A)(Error)),nt=function(t){return function(t){var e=Z(t);return tt.encodeByteArray(e,!0)}(t).replace(/\./g,"")},rt=function(t){try{return tt.decodeString(t,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function it(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=it(t[n],e[n]));return t}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var ot=function(){
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
return function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==e)return e;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__},at=function(){try{return ot()||function(){if(void 0!==F&&void 0!==F.env);}()||function(){if("undefined"!=typeof document){var t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(t){return}var e=t&&rt(t[1]);return e&&JSON.parse(e)}}()}catch(t){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(t))}},st=function(t){var e=function(t){var e,n;return null===(n=null===(e=at())||void 0===e?void 0:e.emulatorHosts)||void 0===n?void 0:n[t]}(t);if(e){var n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error("Invalid host ".concat(e," with no separate hostname and port!"));var r=parseInt(e.substring(n+1),10);return"["===e[0]?[e.substring(1,n-1),r]:[e.substring(0,n),r]}},ut=function(){var t;return null===(t=at())||void 0===t?void 0:t.config},ct=function(){"use strict";function e(){var n=this;t(a)(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(t,e){n.resolve=t,n.reject=e}))}return t(s)(e,[{key:"wrapCallback",value:function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,r))}}}]),e}();
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function lt(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=e||"demo-project",r=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var o=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[nt(JSON.stringify({alg:"none",type:"JWT"})),nt(JSON.stringify(o)),""].join(".")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ht(){try{return"object"==typeof indexedDB}catch(t){return!1}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var ft=function(e){"use strict";t(h)(r,e);var n=t(N)(r);function r(e,i,o){var s;return t(a)(this,r),(s=n.call(this,i)).code=e,s.customData=o,s.name="FirebaseError",Object.setPrototypeOf(t(l)(s),r.prototype),Error.captureStackTrace&&Error.captureStackTrace(t(l)(s),pt.prototype.create),s}return r}(t(A)(Error)),pt=function(){"use strict";function e(n,r,i){t(a)(this,e),this.service=n,this.serviceName=r,this.errors=i}return t(s)(e,[{key:"create",value:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var i=n[0]||{},o="".concat(this.service,"/").concat(t),a=this.errors[t],s=a?dt(a,i):"Error",u="".concat(this.serviceName,": ").concat(s," (").concat(o,")."),c=new ft(o,u,i);return c}}]),e}();function dt(t,e){return t.replace(vt,(function(t,n){var r=e[n];return null!=r?String(r):"<".concat(n,"?>")}))}var vt=/\{\$([^}]+)}/g;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function gt(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function yt(t,e){if(t===e)return!0;var n=Object.keys(t),r=Object.keys(e),i=!0,o=!1,a=void 0;try{for(var s,u=n[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){var c=s.value;if(!r.includes(c))return!1;var l=t[c],h=e[c];if(mt(l)&&mt(h)){if(!yt(l,h))return!1}else if(l!==h)return!1}}catch(t){o=!0,a=t}finally{try{i||null==u.return||u.return()}finally{if(o)throw a}}var f=!0,p=!1,d=void 0;try{for(var v,g=r[Symbol.iterator]();!(f=(v=g.next()).done);f=!0){var y=v.value;if(!n.includes(y))return!1}}catch(t){p=!0,d=t}finally{try{f||null==g.return||g.return()}finally{if(p)throw d}}return!0}function mt(t){return null!==t&&"object"==typeof t}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bt(t,e){var n=new wt(t,e);return n.subscribe.bind(n)}var wt=function(){"use strict";function e(n,r){var i=this;t(a)(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then((function(){n(i)})).catch((function(t){i.error(t)}))}return t(s)(e,[{key:"next",value:function(t){this.forEachObserver((function(e){e.next(t)}))}},{key:"error",value:function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)}},{key:"complete",value:function(){this.forEachObserver((function(t){t.complete()})),this.close()}},{key:"subscribe",value:function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");r=function(t,e){if("object"!=typeof t||null===t)return!1;var n=!0,r=!1,i=void 0;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;if(s in t&&"function"==typeof t[s])return!0}}catch(t){r=!0,i=t}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}return!1}(t,["next","error","complete"])?t:{next:t,error:e,complete:n},void 0===r.next&&(r.next=kt),void 0===r.error&&(r.error=kt),void 0===r.complete&&(r.complete=kt);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}})),this.observers.push(r),o}},{key:"unsubscribeOne",value:function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)}},{key:"sendOne",value:function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(t){"undefined"!=typeof console&&console.error&&console.error(t)}}))}},{key:"close",value:function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))}}]),e}();function kt(){}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Et={};function _t(t,e,n,r,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,i)}Object.defineProperty(Et,"__esModule",{value:!0}),Et.default=function(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){_t(o,r,i,a,s,"next",t)}function s(t){_t(o,r,i,a,s,"throw",t)}a(void 0)}))}};var St={},Tt=function(t){"use strict";var e,n=Object.prototype,r=n.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function c(t,e,n,r){var i=e&&e.prototype instanceof g?e:g,o=Object.create(i.prototype),a=new C(r||[]);return o._invoke=function(t,e,n){var r=h;return function(i,o){if(r===p)throw new Error("Generator is already running");if(r===d){if("throw"===i)throw o;return D()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=T(a,n);if(s){if(s===v)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===h)throw r=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=p;var u=l(t,e,n);if("normal"===u.type){if(r=n.done?d:f,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=d,n.method="throw",n.arg=u.arg)}}}(t,n,a),o}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var h="suspendedStart",f="suspendedYield",p="executing",d="completed",v={};function g(){}function y(){}function m(){}var b={};u(b,o,(function(){return this}));var w=Object.getPrototypeOf,k=w&&w(w(x([])));k&&k!==n&&r.call(k,o)&&(b=k);var E=m.prototype=g.prototype=Object.create(b);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function S(t,e){function n(i,o,a,s){var u=l(t[i],t,o);if("throw"!==u.type){var c=u.arg,h=c.value;return h&&"object"==typeof h&&r.call(h,"__await")?e.resolve(h.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(h).then((function(t){c.value=t,a(c)}),(function(t){return n("throw",t,a,s)}))}s(u.arg)}var i;this._invoke=function(t,r){function o(){return new e((function(e,i){n(t,r,e,i)}))}return i=i?i.then(o,o):o()}}function T(t,n){var r=t.iterator[n.method];if(r===e){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=e,T(t,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=l(r,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var o=i.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function A(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(A,this),this.reset(!0)}function x(t){if(t){var n=t[o];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,a=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}return{next:D}}function D(){return{value:e,done:!0}}return y.prototype=m,u(E,"constructor",m),u(m,"constructor",y),y.displayName=u(m,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,m):(t.__proto__=m,u(t,s,"GeneratorFunction")),t.prototype=Object.create(E),t},t.awrap=function(t){return{__await:t}},_(S.prototype),u(S.prototype,a,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new S(c(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(E),u(E,s,"Generator"),u(E,o,(function(){return this})),u(E,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=x,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(I),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return s.type="throw",s.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var u=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(u&&c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),I(n),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;I(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:x(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),v}},t}(St);try{regeneratorRuntime=Tt}catch(t){"object"==typeof globalThis?globalThis.regeneratorRuntime=Tt:Function("r","regeneratorRuntime = r")(Tt)}var At=function(){"use strict";function e(n,r,i){t(a)(this,e),this.name=n,this.instanceFactory=r,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return t(s)(e,[{key:"setInstantiationMode",value:function(t){return this.instantiationMode=t,this}},{key:"setMultipleInstances",value:function(t){return this.multipleInstances=t,this}},{key:"setServiceProps",value:function(t){return this.serviceProps=t,this}},{key:"setInstanceCreatedCallback",value:function(t){return this.onInstanceCreated=t,this}}]),e}(),It="[DEFAULT]",Ct=function(){"use strict";function e(n,r){t(a)(this,e),this.name=n,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return t(s)(e,[{key:"get",value:function(t){var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new ct;if(this.instancesDeferred.set(e,n),this.isInitialized(e)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:e});r&&n.resolve(r)}catch(t){}}return this.instancesDeferred.get(e).promise}},{key:"getImmediate",value:function(t){var e,n=this.normalizeInstanceIdentifier(null==t?void 0:t.identifier),r=null!==(e=null==t?void 0:t.optional)&&void 0!==e&&e;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(t){if(r)return null;throw t}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e))try{this.getOrInitializeService({instanceIdentifier:It})}catch(t){}var n=!0,r=!1,i=void 0;try{for(var o,a=this.instancesDeferred.entries()[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=t(d)(o.value,2),u=s[0],c=s[1],l=this.normalizeInstanceIdentifier(u);try{var h=this.getOrInitializeService({instanceIdentifier:l});c.resolve(h)}catch(t){}}}catch(t){r=!0,i=t}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}}}},{key:"clearInstance",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:It;this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}},{key:"delete",value:function(){var e=this;return t(Et)(t(St).mark((function n(){var r;return t(St).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=Array.from(e.instances.values()),n.next=3,Promise.all(t(w)(r.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()}))).concat(t(w)(r.filter((function(t){return"_delete"in t})).map((function(t){return t._delete()})))));case 3:case"end":return n.stop()}}),n)})))()}},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:It;return this.instances.has(t)}},{key:"getOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:It;return this.instancesOptions.get(t)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.options,r=void 0===n?{}:n,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error("".concat(this.name,"(").concat(i,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var o=this.getOrInitializeService({instanceIdentifier:i,options:r}),a=!0,s=!1,u=void 0;try{for(var c,l=this.instancesDeferred.entries()[Symbol.iterator]();!(a=(c=l.next()).done);a=!0){var h=t(d)(c.value,2),f=h[0],p=h[1],v=this.normalizeInstanceIdentifier(f);i===v&&p.resolve(o)}}catch(t){s=!0,u=t}finally{try{a||null==l.return||l.return()}finally{if(s)throw u}}return o}},{key:"onInit",value:function(t,e){var n,r=this.normalizeInstanceIdentifier(e),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(t),this.onInitCallbacks.set(r,i);var o=this.instances.get(r);return o&&t(o,r),function(){i.delete(t)}}},{key:"invokeOnInitCallbacks",value:function(t,e){var n=this.onInitCallbacks.get(e);if(n){var r=!0,i=!1,o=void 0;try{for(var a,s=n[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var u=a.value;try{u(t,e)}catch(t){}}}catch(t){i=!0,o=t}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}}}},{key:"getOrInitializeService",value:function(t){var e,n=t.instanceIdentifier,r=t.options,i=void 0===r?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(e=n,e===It?void 0:e),options:i}),this.instances.set(n,o),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(o,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch(t){}return o||null}},{key:"normalizeInstanceIdentifier",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:It;return this.component?this.component.multipleInstances?t:It:t}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xt=function(){"use strict";function e(n){t(a)(this,e),this.name=n,this.providers=new Map}return t(s)(e,[{key:"addComponent",value:function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component ".concat(t.name," has already been registered with ").concat(this.name));e.setComponent(t)}},{key:"addOrOverwriteComponent",value:function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}},{key:"getProvider",value:function(t){if(this.providers.has(t))return this.providers.get(t);var e=new Ct(t,this);return this.providers.set(t,e),e}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),Dt={};n(Dt,"_DEFAULT_ENTRY_NAME",(function(){return fe})),n(Dt,"_apps",(function(){return de})),n(Dt,"_components",(function(){return ve})),n(Dt,"_addComponent",(function(){return ge})),n(Dt,"_addOrOverwriteComponent",(function(){return ye})),n(Dt,"_registerComponent",(function(){return me})),n(Dt,"_getProvider",(function(){return be})),n(Dt,"_removeServiceInstance",(function(){return we})),n(Dt,"_clearComponents",(function(){return ke})),n(Dt,"SDK_VERSION",(function(){return Te})),n(Dt,"initializeApp",(function(){return Ae})),n(Dt,"getApp",(function(){return Ie})),n(Dt,"getApps",(function(){return Ce})),n(Dt,"deleteApp",(function(){return xe})),n(Dt,"registerVersion",(function(){return Oe})),n(Dt,"onLog",(function(){return Le})),n(Dt,"setLogLevel",(function(){return Ne})),n(Dt,"FirebaseError",(function(){return ft}));o("hKHmD"),c=o("hKHmD");var Ot,Lt,Nt=[];(Lt=Ot||(Ot={}))[Lt.DEBUG=0]="DEBUG",Lt[Lt.VERBOSE=1]="VERBOSE",Lt[Lt.INFO=2]="INFO",Lt[Lt.WARN=3]="WARN",Lt[Lt.ERROR=4]="ERROR",Lt[Lt.SILENT=5]="SILENT";var Rt,Pt={debug:Ot.DEBUG,verbose:Ot.VERBOSE,info:Ot.INFO,warn:Ot.WARN,error:Ot.ERROR,silent:Ot.SILENT},Mt=Ot.INFO,jt=(Rt={},t(c)(Rt,Ot.DEBUG,"log"),t(c)(Rt,Ot.VERBOSE,"log"),t(c)(Rt,Ot.INFO,"info"),t(c)(Rt,Ot.WARN,"warn"),t(c)(Rt,Ot.ERROR,"error"),Rt),Ft=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];var a;if(!(n<e.logLevel)){var s=(new Date).toISOString(),u=jt[n];if(!u)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(n,")"));(a=console)[u].apply(a,["[".concat(s,"]  ").concat(e.name,":")].concat(t(w)(i)))}},Ut=function(){"use strict";function e(n){t(a)(this,e),this.name=n,this._logLevel=Mt,this._logHandler=Ft,this._userLogHandler=null,Nt.push(this)}return t(s)(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(t){if(!(t in Ot))throw new TypeError('Invalid value "'.concat(t,'" assigned to `logLevel`'));this._logLevel=t}},{key:"setLogLevel",value:function(t){this._logLevel="string"==typeof t?Pt[t]:t}},{key:"logHandler",get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t}},{key:"debug",value:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ot.DEBUG].concat(t(w)(n))),this._logHandler.apply(this,[this,Ot.DEBUG].concat(t(w)(n)))}},{key:"log",value:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ot.VERBOSE].concat(t(w)(n))),this._logHandler.apply(this,[this,Ot.VERBOSE].concat(t(w)(n)))}},{key:"info",value:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ot.INFO].concat(t(w)(n))),this._logHandler.apply(this,[this,Ot.INFO].concat(t(w)(n)))}},{key:"warn",value:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ot.WARN].concat(t(w)(n))),this._logHandler.apply(this,[this,Ot.WARN].concat(t(w)(n)))}},{key:"error",value:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ot.ERROR].concat(t(w)(n))),this._logHandler.apply(this,[this,Ot.ERROR].concat(t(w)(n)))}}]),e}();function Bt(t,e){var n=!0,r=!1,i=void 0;try{for(var o,a=Nt[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value,u=null;e&&e.level&&(u=Pt[e.level]),s.userLogHandler=null===t?null:function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];var a=i.map((function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(t){return null}})).filter((function(t){return t})).join(" ");n>=(null!=u?u:e.logLevel)&&t({level:Ot[n].toLowerCase(),message:a,args:i,type:e.name})}}}catch(t){r=!0,i=t}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}}var Vt={};Object.defineProperty(Vt,"__esModule",{value:!0}),Vt.default=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),r.forEach((function(e){Ht.default(t,e,n[e])}))}return t};var Ht=function(t){return t&&t.__esModule?t:{default:t}}(o("hKHmD"));var zt,Gt;var Kt=new WeakMap,Xt=new WeakMap,Wt=new WeakMap,qt=new WeakMap,Yt=new WeakMap;var Jt={get:function(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return Xt.get(t);if("objectStoreNames"===e)return t.objectStoreNames||Wt.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Zt(t[e])},set:function(t,e,n){return t[e]=n,!0},has:function(t,e){return t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t}};function Qt(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Gt||(Gt=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(te(this),n),Zt(Kt.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Zt(e.apply(te(this),n))}:function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];var a,s=(a=e).call.apply(a,[te(this),n].concat(t(w)(i)));return Wt.set(s,n.sort?n.sort():[n]),Zt(s)}}function $t(t){return"function"==typeof t?Qt(t):(t instanceof IDBTransaction&&function(t){if(!Xt.has(t)){var e=new Promise((function(e,n){var r=function(){t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=function(){e(),r()},o=function(){n(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)}));Xt.set(t,e)}}(t),e=t,(zt||(zt=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((function(t){return e instanceof t}))?new Proxy(t,Jt):t);var e}function Zt(t){if(t instanceof IDBRequest)return e=t,(n=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",o)},i=function(){t(Zt(e.result)),r()},o=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",o)}))).then((function(t){t instanceof IDBCursor&&Kt.set(t,e)})).catch((function(){})),Yt.set(n,e),n;var e,n;if(qt.has(t))return qt.get(t);var r=$t(t);return r!==t&&(qt.set(t,r),Yt.set(r,t)),r}var te=function(t){return Yt.get(t)};function ee(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,o=n.blocking,a=n.terminated,s=indexedDB.open(t,e),u=Zt(s);return i&&s.addEventListener("upgradeneeded",(function(t){i(Zt(s.result),t.oldVersion,t.newVersion,Zt(s.transaction),t)})),r&&s.addEventListener("blocked",(function(t){return r(t.oldVersion,t.newVersion,t)})),u.then((function(t){a&&t.addEventListener("close",(function(){return a()})),o&&t.addEventListener("versionchange",(function(t){return o(t.oldVersion,t.newVersion,t)}))})).catch((function(){})),u}var ne=["get","getKey","getAll","getAllKeys","count"],re=["put","add","delete","clear"],ie=new Map;function oe(e,n){if(e instanceof IDBDatabase&&!(n in e)&&"string"==typeof n){if(ie.get(n))return ie.get(n);var r=n.replace(/FromIndex$/,""),i=n!==r,o=re.includes(r);if(r in(i?IDBIndex:IDBObjectStore).prototype&&(o||ne.includes(r))){var a,s=(a=t(Et)(t(St).mark((function e(n){var a,s,u,c,l,h,f=arguments;return t(St).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(a=f.length,s=new Array(a>1?a-1:0),u=1;u<a;u++)s[u-1]=f[u];return l=this.transaction(n,o?"readwrite":"readonly"),h=l.store,i&&(h=h.index(s.shift())),e.next=7,Promise.all([(c=h)[r].apply(c,t(w)(s)),o&&l.done]);case 7:return e.abrupt("return",e.sent[0]);case 8:case"end":return e.stop()}}),e,this)}))),function(t){return a.apply(this,arguments)});return ie.set(n,s),s}}}Jt=function(e){return t(Vt)({},e,{get:function(t,n,r){return oe(t,n)||e.get(t,n,r)},has:function(t,n){return!!oe(t,n)||e.has(t,n)}})}(Jt);
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var ae=function(){"use strict";function e(n){t(a)(this,e),this.container=n}return t(s)(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return"".concat(e.library,"/").concat(e.version)}return null})).filter((function(t){return t})).join(" ")}}]),e}();var se,ue,ce="@firebase/app",le="0.9.13",he=new Ut("@firebase/app"),fe="[DEFAULT]",pe=(se={},t(c)(se,ce,"fire-core"),t(c)(se,"@firebase/app-compat","fire-core-compat"),t(c)(se,"@firebase/analytics","fire-analytics"),t(c)(se,"@firebase/analytics-compat","fire-analytics-compat"),t(c)(se,"@firebase/app-check","fire-app-check"),t(c)(se,"@firebase/app-check-compat","fire-app-check-compat"),t(c)(se,"@firebase/auth","fire-auth"),t(c)(se,"@firebase/auth-compat","fire-auth-compat"),t(c)(se,"@firebase/database","fire-rtdb"),t(c)(se,"@firebase/database-compat","fire-rtdb-compat"),t(c)(se,"@firebase/functions","fire-fn"),t(c)(se,"@firebase/functions-compat","fire-fn-compat"),t(c)(se,"@firebase/installations","fire-iid"),t(c)(se,"@firebase/installations-compat","fire-iid-compat"),t(c)(se,"@firebase/messaging","fire-fcm"),t(c)(se,"@firebase/messaging-compat","fire-fcm-compat"),t(c)(se,"@firebase/performance","fire-perf"),t(c)(se,"@firebase/performance-compat","fire-perf-compat"),t(c)(se,"@firebase/remote-config","fire-rc"),t(c)(se,"@firebase/remote-config-compat","fire-rc-compat"),t(c)(se,"@firebase/storage","fire-gcs"),t(c)(se,"@firebase/storage-compat","fire-gcs-compat"),t(c)(se,"@firebase/firestore","fire-fst"),t(c)(se,"@firebase/firestore-compat","fire-fst-compat"),t(c)(se,"fire-js","fire-js"),t(c)(se,"firebase","fire-js-all"),se),de=new Map,ve=new Map;function ge(t,e){try{t.container.addComponent(e)}catch(n){he.debug("Component ".concat(e.name," failed to register with FirebaseApp ").concat(t.name),n)}}function ye(t,e){t.container.addOrOverwriteComponent(e)}function me(t){var e=t.name;if(ve.has(e))return he.debug("There were multiple attempts to register component ".concat(e,".")),!1;ve.set(e,t);var n=!0,r=!1,i=void 0;try{for(var o,a=de.values()[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){ge(o.value,t)}}catch(t){r=!0,i=t}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}return!0}function be(t,e){var n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function we(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:fe;be(t,e).clearInstance(n)}function ke(){ve.clear()}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Ee=(ue={},t(c)(ue,"no-app","No Firebase App '{$appName}' has been created - call initializeApp() first"),t(c)(ue,"bad-app-name","Illegal App name: '{$appName}"),t(c)(ue,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),t(c)(ue,"app-deleted","Firebase App named '{$appName}' already deleted"),t(c)(ue,"no-options","Need to provide options, when not being deployed to hosting via source."),t(c)(ue,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),t(c)(ue,"invalid-log-argument","First argument to `onLog` must be null or a function."),t(c)(ue,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),t(c)(ue,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),t(c)(ue,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),t(c)(ue,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),ue),_e=new pt("app","Firebase",Ee),Se=function(){"use strict";function e(n,r,i){var o=this;t(a)(this,e),this._isDeleted=!1,this._options=Object.assign({},n),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new At("app",(function(){return o}),"PUBLIC"))}return t(s)(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(t){this._isDeleted=t}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw _e.create("app-deleted",{appName:this._name})}}]),e}(),Te="9.23.0";function Ae(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t;if("object"!=typeof e){var r=e;e={name:r}}var i=Object.assign({name:fe,automaticDataCollectionEnabled:!1},e),o=i.name;if("string"!=typeof o||!o)throw _e.create("bad-app-name",{appName:String(o)});if(n||(n=ut()),!n)throw _e.create("no-options");var a=de.get(o);if(a){if(yt(n,a.options)&&yt(i,a.config))return a;throw _e.create("duplicate-app",{appName:o})}var s=new xt(o),u=!0,c=!1,l=void 0;try{for(var h,f=ve.values()[Symbol.iterator]();!(u=(h=f.next()).done);u=!0){var p=h.value;s.addComponent(p)}}catch(t){c=!0,l=t}finally{try{u||null==f.return||f.return()}finally{if(c)throw l}}var d=new Se(n,i,s);return de.set(o,d),d}function Ie(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fe,e=de.get(t);if(!e&&t===fe&&ut())return Ae();if(!e)throw _e.create("no-app",{appName:t});return e}function Ce(){return Array.from(de.values())}function xe(t){return De.apply(this,arguments)}function De(){return(De=t(Et)(t(St).mark((function e(n){var r;return t(St).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=n.name,!de.has(r)){t.next=6;break}return de.delete(r),t.next=5,Promise.all(n.container.getProviders().map((function(t){return t.delete()})));case 5:n.isDeleted=!0;case 6:case"end":return t.stop()}}),e)})))).apply(this,arguments)}function Oe(t,e,n){var r,i=null!==(r=pe[t])&&void 0!==r?r:t;n&&(i+="-".concat(n));var o=i.match(/\s|\//),a=e.match(/\s|\//);if(o||a){var s=['Unable to register library "'.concat(i,'" with version "').concat(e,'":')];return o&&s.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),o&&a&&s.push("and"),a&&s.push('version name "'.concat(e,'" contains illegal characters (whitespace or "/")')),void he.warn(s.join(" "))}me(new At("".concat(i,"-version"),(function(){return{library:i,version:e}}),"VERSION"))}function Le(t,e){if(null!==t&&"function"!=typeof t)throw _e.create("invalid-log-argument");Bt(t,e)}function Ne(t){var e;e=t,Nt.forEach((function(t){t.setLogLevel(e)}))}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Re="firebase-heartbeat-store",Pe=null;function Me(){return Pe||(Pe=ee("firebase-heartbeat-database",1,{upgrade:function(t,e){if(0===e)t.createObjectStore(Re)}}).catch((function(t){throw _e.create("idb-open",{originalErrorMessage:t.message})}))),Pe}function je(t){return Fe.apply(this,arguments)}function Fe(){return(Fe=t(Et)(t(St).mark((function e(n){var r,i,o;return t(St).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Me();case 3:return r=t.sent,t.next=6,r.transaction(Re).objectStore(Re).get(Ve(n));case 6:return i=t.sent,t.abrupt("return",i);case 10:t.prev=10,t.t0=t.catch(0),t.t0 instanceof ft?he.warn(t.t0.message):(o=_e.create("idb-get",{originalErrorMessage:null===t.t0||void 0===t.t0?void 0:t.t0.message}),he.warn(o.message));case 13:case"end":return t.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function Ue(t,e){return Be.apply(this,arguments)}function Be(){return(Be=t(Et)(t(St).mark((function e(n,r){var i,o,a,s;return t(St).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Me();case 3:return i=t.sent,o=i.transaction(Re,"readwrite"),a=o.objectStore(Re),t.next=8,a.put(r,Ve(n));case 8:return t.next=10,o.done;case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),t.t0 instanceof ft?he.warn(t.t0.message):(s=_e.create("idb-set",{originalErrorMessage:null===t.t0||void 0===t.t0?void 0:t.t0.message}),he.warn(s.message));case 15:case"end":return t.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}function Ve(t){return"".concat(t.name,"!").concat(t.options.appId)}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var He=function(){"use strict";function e(n){var r=this;t(a)(this,e),this.container=n,this._heartbeatsCache=null;var i=this.container.getProvider("app").getImmediate();this._storage=new Xe(i),this._heartbeatsCachePromise=this._storage.read().then((function(t){return r._heartbeatsCache=t,t}))}return t(s)(e,[{key:"triggerHeartbeat",value:function(){var e=this;return t(Et)(t(St).mark((function n(){var r,i,o;return t(St).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.container.getProvider("platform-logger").getImmediate(),i=r.getPlatformInfoString(),o=ze(),null!==e._heartbeatsCache){t.next=7;break}return t.next=6,e._heartbeatsCachePromise;case 6:e._heartbeatsCache=t.sent;case 7:if(e._heartbeatsCache.lastSentHeartbeatDate!==o&&!e._heartbeatsCache.heartbeats.some((function(t){return t.date===o}))){t.next=11;break}return t.abrupt("return");case 11:e._heartbeatsCache.heartbeats.push({date:o,agent:i});case 12:return e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter((function(t){var e=new Date(t.date).valueOf();return Date.now()-e<=2592e6})),t.abrupt("return",e._storage.overwrite(e._heartbeatsCache));case 14:case"end":return t.stop()}}),n)})))()}},{key:"getHeartbeatsHeader",value:function(){var e=this;return t(Et)(t(St).mark((function n(){var r,i,o,a,s;return t(St).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!==e._heartbeatsCache){t.next=3;break}return t.next=3,e._heartbeatsCachePromise;case 3:if(null!==e._heartbeatsCache&&0!==e._heartbeatsCache.heartbeats.length){t.next=5;break}return t.abrupt("return","");case 5:if(r=ze(),i=Ge(e._heartbeatsCache.heartbeats),o=i.heartbeatsToSend,a=i.unsentEntries,s=nt(JSON.stringify({version:2,heartbeats:o})),e._heartbeatsCache.lastSentHeartbeatDate=r,!(a.length>0)){t.next=15;break}return e._heartbeatsCache.heartbeats=a,t.next=13,e._storage.overwrite(e._heartbeatsCache);case 13:t.next=16;break;case 15:e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache);case 16:return t.abrupt("return",s);case 17:case"end":return t.stop()}}),n)})))()}}]),e}();function ze(){return(new Date).toISOString().substring(0,10)}function Ge(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,n=[],r=t.slice(),i=!0,o=!1,a=void 0;try{for(var s,u=function(t,i){var o=i.value,a=n.find((function(t){return t.agent===o.agent}));if(a){if(a.dates.push(o.date),We(n)>e)return a.dates.pop(),"break"}else if(n.push({agent:o.agent,dates:[o.date]}),We(n)>e)return n.pop(),"break";r=r.slice(1)},c=t[Symbol.iterator]();!(i=(s=c.next()).done);i=!0){var l=u(c,s);if("break"===l)break}}catch(t){o=!0,a=t}finally{try{i||null==c.return||c.return()}finally{if(o)throw a}}return{heartbeatsToSend:n,unsentEntries:r}}var Ke,Xe=function(){"use strict";function e(n){t(a)(this,e),this.app=n,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return t(s)(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){return t(Et)(t(St).mark((function e(){return t(St).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(ht()){t.next=4;break}return t.abrupt("return",!1);case 4:return t.abrupt("return",new Promise((function(t,e){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var t;e((null===(t=i.error)||void 0===t?void 0:t.message)||"")}}catch(t){e(t)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return t.stop()}}),e)})))()}},{key:"read",value:function(){var e=this;return t(Et)(t(St).mark((function n(){var r;return t(St).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e._canUseIndexedDBPromise;case 2:if(t.sent){t.next=7;break}return t.abrupt("return",{heartbeats:[]});case 7:return t.next=9,je(e.app);case 9:return r=t.sent,t.abrupt("return",r||{heartbeats:[]});case 11:case"end":return t.stop()}}),n)})))()}},{key:"overwrite",value:function(e){var n=this;return t(Et)(t(St).mark((function r(){var i,o;return t(St).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=3,n._canUseIndexedDBPromise;case 3:if(t.sent){t.next=8;break}return t.abrupt("return");case 8:return t.next=10,n.read();case 10:return o=t.sent,t.abrupt("return",Ue(n.app,{lastSentHeartbeatDate:null!==(i=e.lastSentHeartbeatDate)&&void 0!==i?i:o.lastSentHeartbeatDate,heartbeats:e.heartbeats}));case 12:case"end":return t.stop()}}),r)})))()}},{key:"add",value:function(e){var n=this;return t(Et)(t(St).mark((function r(){var i,o;return t(St).wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=3,n._canUseIndexedDBPromise;case 3:if(r.sent){r.next=8;break}return r.abrupt("return");case 8:return r.next=10,n.read();case 10:return o=r.sent,r.abrupt("return",Ue(n.app,{lastSentHeartbeatDate:null!==(i=e.lastSentHeartbeatDate)&&void 0!==i?i:o.lastSentHeartbeatDate,heartbeats:t(w)(o.heartbeats).concat(t(w)(e.heartbeats))}));case 12:case"end":return r.stop()}}),r)})))()}}]),e}();function We(t){return nt(JSON.stringify({version:2,heartbeats:t})).length}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ke="",me(new At("platform-logger",(function(t){return new ae(t)}),"PRIVATE")),me(new At("heartbeat",(function(t){return new He(t)}),"PRIVATE")),Oe(ce,le,Ke),Oe(ce,le,"esm2017"),Oe("fire-js","");
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var qe,Ye=function(){"use strict";function e(n,r){var i=this;t(a)(this,e),this._delegate=n,this.firebase=r,ge(n,new At("app-compat",(function(){return i}),"PUBLIC")),this.container=n.container}return t(s)(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(t){this._delegate.automaticDataCollectionEnabled=t}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var t=this;return new Promise((function(e){t._delegate.checkDestroyed(),e()})).then((function(){return t.firebase.INTERNAL.removeApp(t.name),xe(t._delegate)}))}},{key:"_getService",value:function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:fe;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(t);return r.isInitialized()||"EXPLICIT"!==(null===(e=r.getComponent())||void 0===e?void 0:e.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:fe;this._delegate.container.getProvider(t).clearInstance(e)}},{key:"_addComponent",value:function(t){ge(this._delegate,t)}},{key:"_addOrOverwriteComponent",value:function(t){ye(this._delegate,t)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),Je=(qe={},t(c)(qe,"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),t(c)(qe,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),qe),Qe=new pt("app-compat","Firebase",Je);var $e=
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function t(){var e=
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(t){var e={},n={__esModule:!0,initializeApp:function(r){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=Dt.initializeApp(r,i);if(gt(e,o.name))return e[o.name];var a=new t(o,n);return e[o.name]=a,a},app:r,registerVersion:Dt.registerVersion,setLogLevel:Dt.setLogLevel,onLog:Dt.onLog,apps:null,SDK_VERSION:Dt.SDK_VERSION,INTERNAL:{registerComponent:function(e){var i=e.name,o=i.replace("-compat","");if(Dt._registerComponent(e)&&"PUBLIC"===e.type){var a=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r();if("function"!=typeof t[o])throw Qe.create("invalid-app-argument",{appName:i});return t[o]()};void 0!==e.serviceProps&&it(a,e.serviceProps),n[o]=a,t.prototype[o]=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this._getService.bind(this,i).apply(this,e.multipleInstances?n:[])}}return"PUBLIC"===e.type?n[o]:null},removeApp:function(t){delete e[t]},useAsService:function(t,e){return"serverAuth"===e?null:e},modularAPIs:Dt}};function r(t){if(t=t||Dt._DEFAULT_ENTRY_NAME,!gt(e,t))throw Qe.create("no-app",{appName:t});return e[t]}return n.default=n,Object.defineProperty(n,"apps",{get:function(){return Object.keys(e).map((function(t){return e[t]}))}}),r.App=t,n}(Ye);return e.INTERNAL=Object.assign(Object.assign({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){it(e,t)},createSubscribe:bt,ErrorFactory:pt,deepExtend:it}),e}(),Ze=new Ut("@firebase/app-compat");
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
if("object"==typeof self&&self.self===self&&void 0!==self.firebase){Ze.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var tn=self.firebase.SDK_VERSION;tn&&tn.indexOf("LITE")>=0&&Ze.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var en=$e;!
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(t){Oe("@firebase/app-compat","0.2.13",t)}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
en.registerVersion("firebase","9.23.0","app-compat");o("ge8co");var nn={};Object.defineProperty(nn,"__esModule",{value:!0}),nn.default=function(t,e,n){return on(t,e,n)};var rn=function(t){return t&&t.__esModule?t:{default:t}}(o("2mz0K"));function on(t,e,n){return(on="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=rn.default(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n||t):i.value}})(t,e,n)}var an,sn=o("fVNic"),un=o("jmhxu"),cn=o("l5bVx"),ln=(sn=o("fVNic"),cn=o("l5bVx"),"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{}),hn={},fn=fn||{},pn=ln||self;function dn(e){var n=void 0===e?"undefined":t(cn)(e);return"array"==(n="object"!=n?n:e?Array.isArray(e)?"array":n:"null")||"object"==n&&"number"==typeof e.length}function vn(e){var n=void 0===e?"undefined":t(cn)(e);return"object"==n&&null!=e||"function"==n}var gn="closure_uid_"+(1e9*Math.random()>>>0),yn=0;function mn(t,e,n){return t.call.apply(t.bind,arguments)}function bn(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function wn(t,e,n){return(wn=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?mn:bn).apply(null,arguments)}function kn(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function En(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function _n(){this.s=this.s,this.o=this.o}_n.prototype.s=!1,_n.prototype.sa=function(){var t;!this.s&&(this.s=!0,this.N(),0)&&(t=this,Object.prototype.hasOwnProperty.call(t,gn)&&t[gn]||(t[gn]=++yn))},_n.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Sn=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Tn(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function An(t,e){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(dn(r)){var i=t.length||0,o=r.length||0;t.length=i+o;for(var a=0;a<o;a++)t[i+a]=r[a]}else t.push(r)}}function In(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}In.prototype.h=function(){this.defaultPrevented=!0};var Cn=function(){if(!pn.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{pn.addEventListener("test",(function(){}),e),pn.removeEventListener("test",(function(){}),e)}catch(t){}return t}();function xn(t){return/^[\s\xa0]*$/.test(t)}function Dn(){var t=pn.navigator;return t&&(t=t.userAgent)?t:""}function On(t){return-1!=Dn().indexOf(t)}function Ln(t){return Ln[" "](t),t}Ln[" "]=function(){};var Nn,Rn,Pn,Mn=On("Opera"),jn=On("Trident")||On("MSIE"),Fn=On("Edge"),Un=Fn||jn,Bn=On("Gecko")&&!(-1!=Dn().toLowerCase().indexOf("webkit")&&!On("Edge"))&&!(On("Trident")||On("MSIE"))&&!On("Edge"),Vn=-1!=Dn().toLowerCase().indexOf("webkit")&&!On("Edge");function Hn(){var t=pn.document;return t?t.documentMode:void 0}t:{var zn="",Gn=(Rn=Dn(),Bn?/rv:([^\);]+)(\)|;)/.exec(Rn):Fn?/Edge\/([\d\.]+)/.exec(Rn):jn?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Rn):Vn?/WebKit\/(\S+)/.exec(Rn):Mn?/(?:Version)[ \/]?(\S+)/.exec(Rn):void 0);if(Gn&&(zn=Gn?Gn[1]:""),jn){var Kn=Hn();if(null!=Kn&&Kn>parseFloat(zn)){Nn=String(Kn);break t}}Nn=zn}if(pn.document&&jn){var Xn=Hn();Pn=Xn||(parseInt(Nn,10)||void 0)}else Pn=void 0;var Wn=Pn;function qn(t,e){if(In.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(Bn){t:{try{Ln(e.nodeName);var i=!0;break t}catch(t){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Yn[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&qn.$.h.call(this)}}En(qn,In);var Yn={2:"touch",3:"pen",4:"mouse"};qn.prototype.h=function(){qn.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Jn="closure_listenable_"+(1e6*Math.random()|0),Qn=0;function $n(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++Qn,this.fa=this.ia=!1}function Zn(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function tr(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function er(t){var e={};for(var n in t)e[n]=t[n];return e}var nr="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function rr(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<nr.length;o++)n=nr[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function ir(t){this.src=t,this.g={},this.h=0}function or(t,e){var n=e.type;if(n in t.g){var r,i=t.g[n],o=Sn(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(Zn(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function ar(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.fa&&o.listener==e&&o.capture==!!n&&o.la==r)return i}return-1}ir.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.g[o])||(t=this.g[o]=[],this.h++);var a=ar(t,e,r,i);return-1<a?(e=t[a],n||(e.ia=!1)):((e=new $n(e,this.src,o,!!r,i)).ia=n,t.push(e)),e};var sr="closure_lm_"+(1e6*Math.random()|0),ur={};function cr(t,e,n,r,i){if(r&&r.once)return hr(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)cr(t,e[o],n,r,i);return null}return n=mr(n),t&&t[Jn]?t.O(e,n,vn(r)?!!r.capture:!!r,i):lr(t,e,n,!1,r,i)}function lr(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a=vn(i)?!!i.capture:!!i,s=gr(t);if(s||(t[sr]=s=new ir(t)),(n=s.add(e,n,r,a,o)).proxy)return n;if(r=function(){function t(n){return e.call(t.src,t.listener,n)}var e=vr;return t}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Cn||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(dr(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function hr(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)hr(t,e[o],n,r,i);return null}return n=mr(n),t&&t[Jn]?t.P(e,n,vn(r)?!!r.capture:!!r,i):lr(t,e,n,!0,r,i)}function fr(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)fr(t,e[o],n,r,i);else r=vn(r)?!!r.capture:!!r,n=mr(n),t&&t[Jn]?(t=t.i,(e=String(e).toString())in t.g&&(-1<(n=ar(o=t.g[e],n,r,i))&&(Zn(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.g[e],t.h--)))):t&&(t=gr(t))&&(e=t.g[e.toString()],t=-1,e&&(t=ar(e,n,r,i)),(n=-1<t?e[t]:null)&&pr(n))}function pr(t){if("number"!=typeof t&&t&&!t.fa){var e=t.src;if(e&&e[Jn])or(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(dr(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=gr(e))?(or(n,t),0==n.h&&(n.src=null,e[sr]=null)):Zn(t)}}}function dr(t){return t in ur?ur[t]:ur[t]="on"+t}function vr(t,e){if(t.fa)t=!0;else{e=new qn(e,this);var n=t.listener,r=t.la||t.src;t.ia&&pr(t),t=n.call(r,e)}return t}function gr(t){return(t=t[sr])instanceof ir?t:null}var yr="__closure_events_fn_"+(1e9*Math.random()>>>0);function mr(t){return"function"==typeof t?t:(t[yr]||(t[yr]=function(e){return t.handleEvent(e)}),t[yr])}function br(){_n.call(this),this.i=new ir(this),this.S=this,this.J=null}function wr(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,"string"==typeof e)e=new In(e,t);else if(e instanceof In)e.target=e.target||t;else{var i=e;rr(e=new In(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var a=e.g=n[o];i=kr(a,r,!0,e)&&i}if(i=kr(a=e.g=t,r,!0,e)&&i,i=kr(a,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=kr(a=e.g=n[o],r,!1,e)&&i}function kr(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.fa&&a.capture==n){var s=a.listener,u=a.la||a.src;a.ia&&or(t.i,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}En(br,_n),br.prototype[Jn]=!0,br.prototype.removeEventListener=function(t,e,n,r){fr(this,t,e,n,r)},br.prototype.N=function(){if(br.$.N.call(this),this.i){var t,e=this.i;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)Zn(n[r]);delete e.g[t],e.h--}}this.J=null},br.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},br.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var Er=pn.JSON.stringify,_r=function(){"use strict";function e(n,r){t(a)(this,e),this.i=n,this.j=r,this.h=0,this.g=null}return t(s)(e,[{key:"get",value:function(){var t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}]),e}();function Sr(){var t=Lr,e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var Tr=function(){"use strict";function e(){t(a)(this,e),this.h=this.g=null}return t(s)(e,[{key:"add",value:function(t,e){var n=Ar.get();n.set(t,e),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),Ar=new _r((function(){return new Ir}),(function(t){return t.reset()})),Ir=function(){"use strict";function e(){t(a)(this,e),this.next=this.g=this.h=null}return t(s)(e,[{key:"set",value:function(t,e){this.h=t,this.g=e,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function Cr(t){var e=1;t=t.split(":");for(var n=[];0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function xr(t){pn.setTimeout((function(){throw t}),0)}var Dr,Or=!1,Lr=new Tr,Nr=function(){var t=pn.Promise.resolve(void 0);Dr=function(){t.then(Rr)}},Rr=function(){for(var t;t=Sr();){try{t.h.call(t.g)}catch(t){xr(t)}var e=Ar;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Or=!1};function Pr(t,e){br.call(this),this.h=t||1,this.g=e||pn,this.j=wn(this.qb,this),this.l=Date.now()}function Mr(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}function jr(t,e,n){if("function"==typeof t)n&&(t=wn(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=wn(t.handleEvent,t)}return 2147483647<Number(e)?-1:pn.setTimeout(t,e||0)}function Fr(t){t.g=jr((function(){t.g=null,t.i&&(t.i=!1,Fr(t))}),t.j);var e=t.h;t.h=null,t.m.apply(null,e)}En(Pr,br),(an=Pr.prototype).ga=!1,an.T=null,an.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),wr(this,"tick"),this.ga&&(Mr(this),this.start()))}},an.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},an.N=function(){Pr.$.N.call(this),Mr(this),delete this.g};var Ur=function(e){"use strict";t(h)(r,e);var n=t(N)(r);function r(e,i){var o;return t(a)(this,r),(o=n.call(this)).m=e,o.j=i,o.h=null,o.i=!1,o.g=null,o}return t(s)(r,[{key:"l",value:function(t){this.h=arguments,this.g?this.i=!0:Fr(this)}},{key:"N",value:function(){t(nn)(t(sn)(r.prototype),"N",this).call(this),this.g&&(pn.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),r}(_n);function Br(t){_n.call(this),this.h=t,this.g={}}En(Br,_n);var Vr=[];function Hr(t,e,n,r){Array.isArray(n)||(n&&(Vr[0]=n.toString()),n=Vr);for(var i=0;i<n.length;i++){var o=cr(e,n[i],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function zr(t){tr(t.g,(function(t,e){this.g.hasOwnProperty(e)&&pr(t)}),t),t.g={}}function Gr(){this.g=!0}function Kr(t,e,n,r){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<i.length;a++)i[a]=""}}}return Er(n)}catch(t){return e}}(t,n)+(r?" "+r:"")}))}Br.prototype.N=function(){Br.$.N.call(this),zr(this)},Br.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Gr.prototype.Ea=function(){this.g=!1},Gr.prototype.info=function(){};var Xr={},Wr=null;function qr(){return Wr=Wr||new br}function Yr(t){In.call(this,Xr.Ta,t)}function Jr(t){var e=qr();wr(e,new Yr(e))}function Qr(t,e){In.call(this,Xr.STAT_EVENT,t),this.stat=e}function $r(t){var e=qr();wr(e,new Qr(e,t))}function Zr(t,e){In.call(this,Xr.Ua,t),this.size=e}function ti(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return pn.setTimeout((function(){t()}),e)}Xr.Ta="serverreachability",En(Yr,In),Xr.STAT_EVENT="statevent",En(Qr,In),Xr.Ua="timingevent",En(Zr,In);var ei={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},ni={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function ri(){}function ii(t){return t.h||(t.h=t.i())}function oi(){}ri.prototype.h=null;var ai,si={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function ui(){In.call(this,"d")}function ci(){In.call(this,"c")}function li(){}function hi(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Br(this),this.P=pi,t=Un?125:void 0,this.V=new Pr(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new fi}function fi(){this.i=null,this.g="",this.h=!1}En(ui,In),En(ci,In),En(li,ri),li.prototype.g=function(){return new XMLHttpRequest},li.prototype.i=function(){return{}},ai=new li;var pi=45e3,di={},vi={};function gi(t,e,n){t.L=1,t.v=Pi(Di(e)),t.s=n,t.S=!0,yi(t,null)}function yi(t,e){t.G=Date.now(),ki(t),t.A=Di(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),qi(n.i,"t",r),t.C=0,n=t.l.J,t.h=new fi,t.g=Yo(t.l,n?e:null,!t.s),0<t.O&&(t.M=new Ur(wn(t.Pa,t,t.g),t.O)),Hr(t.U,t.g,"readystatechange",t.nb),e=t.I?er(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),Jr(),function(t,e,n,r,i,o){t.info((function(){if(t.g)if(o)for(var a="",s=o.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");a=2<=h.length&&"type"==h[1]?a+(l+"=")+c+"&":a+(l+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+a}))}(t.j,t.u,t.A,t.m,t.W,t.s)}function mi(t){return!!t.g&&("GET"==t.u&&2!=t.L&&t.l.Ha)}function bi(t,e,n){for(var r,i=!0;!t.J&&t.C<n.length;){if((r=wi(t,n))==vi){4==e&&(t.o=4,$r(14),i=!1),Kr(t.j,t.m,null,"[Incomplete Response]");break}if(r==di){t.o=4,$r(15),Kr(t.j,t.m,n,"[Invalid Chunk]"),i=!1;break}Kr(t.j,t.m,r,null),Ai(t,r)}mi(t)&&r!=vi&&r!=di&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,$r(16),i=!1),t.i=t.i&&i,i?0<n.length&&!t.ba&&(t.ba=!0,(e=t.l).g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Vo(e),e.M=!0,$r(11))):(Kr(t.j,t.m,n,"[Invalid Chunked Response]"),Ti(t),Si(t))}function wi(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?vi:(n=Number(e.substring(n,r)),isNaN(n)?di:(r+=1)+n>e.length?vi:(e=e.slice(r,r+n),t.C=r+n,e))}function ki(t){t.Y=Date.now()+t.P,Ei(t,t.P)}function Ei(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=ti(wn(t.lb,t),e)}function _i(t){t.B&&(pn.clearTimeout(t.B),t.B=null)}function Si(t){0==t.l.H||t.J||Go(t.l,t)}function Ti(t){_i(t);var e=t.M;e&&"function"==typeof e.sa&&e.sa(),t.M=null,Mr(t.V),zr(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function Ai(t,e){try{var n=t.l;if(0!=n.H&&(n.g==t||eo(n.i,t)))if(!t.K&&eo(n.i,t)&&3==n.H){try{var r=n.Ja.g.parse(e)}catch(o){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.u){if(n.g){if(!(n.g.G+3e3<t.G))break t;zo(n),No(n)}Bo(n),$r(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=ti(wn(n.ib,n),6e3));if(1>=to(n.i)&&n.oa){try{n.oa()}catch(o){}n.oa=void 0}}else Xo(n,11)}else if((t.K||n.g==t)&&zo(n),!xn(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){var o=i[e];if(n.V=o[0],o=o[1],2==n.H)if("c"==o[0]){n.K=o[1],n.pa=o[2];var a=o[3];null!=a&&(n.ra=a,n.l.info("VER="+n.ra));var s=o[4];null!=s&&(n.Ga=s,n.l.info("SVER="+n.Ga));var u=o[5];null!=u&&"number"==typeof u&&0<u&&(r=1.5*u,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=t.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=r.i;h.g||-1==l.indexOf("spdy")&&-1==l.indexOf("quic")&&-1==l.indexOf("h2")||(h.j=h.l,h.g=new Set,h.h&&(no(h,h.h),h.h=null))}if(r.F){var f=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;f&&(r.Da=f,Ri(r.I,r.F,f))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms"));var p=t;if((r=n).wa=qo(r,r.J?r.pa:null,r.Y),p.K){ro(r.i,p);var d=p,v=r.L;v&&d.setTimeout(v),d.B&&(_i(d),ki(d)),r.g=p}else Uo(r);0<n.j.length&&Po(n)}else"stop"!=o[0]&&"close"!=o[0]||Xo(n,7);else 3==n.H&&("stop"==o[0]||"close"==o[0]?"stop"==o[0]?Xo(n,7):Lo(n):"noop"!=o[0]&&n.h&&n.h.Aa(o),n.A=0)}Jr()}catch(o){}}function Ii(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(dn(t)||"string"==typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function(t){if(t.ta&&"function"==typeof t.ta)return t.ta();if(!t.Z||"function"!=typeof t.Z){if("undefined"!=typeof Map&&t instanceof Map)return Array.from(t.keys());if(!("undefined"!=typeof Set&&t instanceof Set)){if(dn(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}for(var r in e=[],n=0,t)e[n++]=r;return e}}}(t),r=function(t){if(t.Z&&"function"==typeof t.Z)return t.Z();if("undefined"!=typeof Map&&t instanceof Map||"undefined"!=typeof Set&&t instanceof Set)return Array.from(t.values());if("string"==typeof t)return t.split("");if(dn(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}(an=hi.prototype).setTimeout=function(t){this.P=t},an.nb=function(t){t=t.target;var e=this.M;e&&3==Ao(t)?e.l():this.Pa(t)},an.Pa=function(t){try{if(t==this.g)t:{var e=Ao(this.g),n=this.g.Ia();this.g.da();if(!(3>e)&&(3!=e||Un||this.g&&(this.h.h||this.g.ja()||Io(this.g)))){this.J||4!=e||7==n||Jr(),_i(this);var r=this.g.da();this.ca=r;e:if(mi(this)){var i=Io(this.g);t="";var o=i.length,a=4==Ao(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Ti(this),Si(this);var s="";break e}this.h.i=new pn.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,t+=this.h.i.decode(i[n],{stream:a&&n==o-1});i.splice(0,o),this.h.g+=t,this.C=0,s=this.h.g}else s=this.g.ja();if(this.i=200==r,function(t,e,n,r,i,o,a){t.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+a}))}(this.j,this.u,this.A,this.m,this.W,e,r),this.i){if(this.aa&&!this.K){e:{if(this.g){var u,c=this.g;if((u=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!xn(u)){var l=u;break e}}l=null}if(!(r=l)){this.i=!1,this.o=3,$r(12),Ti(this),Si(this);break t}Kr(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ai(this,r)}this.S?(bi(this,e,s),Un&&this.i&&3==e&&(Hr(this.U,this.V,"tick",this.mb),this.V.start())):(Kr(this.j,this.m,s,null),Ai(this,s)),4==e&&Ti(this),this.i&&!this.J&&(4==e?Go(this.l,this):(this.i=!1,ki(this)))}else(function(t){var e={};t=(t.g&&2<=Ao(t)&&t.g.getAllResponseHeaders()||"").split("\r\n");for(var n=0;n<t.length;n++)if(!xn(t[n])){var r=Cr(t[n]),i=r[0];if("string"==typeof(r=r[1])){r=r.trim();var o=e[i]||[];e[i]=o,o.push(r)}}!function(t,e){for(var n in t)e.call(void 0,t[n],n,t)}(e,(function(t){return t.join(", ")}))})(this.g),400==r&&0<s.indexOf("Unknown SID")?(this.o=3,$r(12)):(this.o=0,$r(13)),Ti(this),Si(this)}}}catch(e){}},an.mb=function(){if(this.g){var t=Ao(this.g),e=this.g.ja();this.C<e.length&&(_i(this),bi(this,t,e),this.i&&4!=t&&ki(this))}},an.cancel=function(){this.J=!0,Ti(this)},an.lb=function(){this.B=null;var t=Date.now();0<=t-this.Y?(function(t,e){t.info((function(){return"TIMEOUT: "+e}))}(this.j,this.A),2!=this.L&&(Jr(),$r(17)),Ti(this),this.o=2,Si(this)):Ei(this,this.Y-t)};var Ci=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function xi(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof xi){this.h=t.h,Oi(this,t.j),this.s=t.s,this.g=t.g,Li(this,t.m),this.l=t.l;var e=t.i,n=new Gi;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),Ni(this,n),this.o=t.o}else t&&(e=String(t).match(Ci))?(this.h=!1,Oi(this,e[1]||"",!0),this.s=Mi(e[2]||""),this.g=Mi(e[3]||"",!0),Li(this,e[4]),this.l=Mi(e[5]||"",!0),Ni(this,e[6]||"",!0),this.o=Mi(e[7]||"")):(this.h=!1,this.i=new Gi(null,this.h))}function Di(t){return new xi(t)}function Oi(t,e,n){t.j=n?Mi(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Li(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function Ni(t,e,n){e instanceof Gi?(t.i=e,function(t,e){e&&!t.j&&(Ki(t),t.i=null,t.g.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(Xi(this,e),qi(this,n,t))}),t)),t.j=e}(t.i,t.h)):(n||(e=ji(e,Hi)),t.i=new Gi(e,t.h))}function Ri(t,e,n){t.i.set(e,n)}function Pi(t){return Ri(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Mi(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function ji(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Fi),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Fi(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}xi.prototype.toString=function(){var t=[],e=this.j;e&&t.push(ji(e,Ui,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(ji(e,Ui,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(ji(n,"/"==n.charAt(0)?Vi:Bi,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",ji(n,zi)),t.join("")};var Ui=/[#\/\?@]/g,Bi=/[#\?:]/g,Vi=/[#\?]/g,Hi=/[#\?@]/g,zi=/#/g;function Gi(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Ki(t){t.g||(t.g=new Map,t.h=0,t.i&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function Xi(t,e){Ki(t),e=Yi(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function Wi(t,e){return Ki(t),e=Yi(t,e),t.g.has(e)}function qi(t,e,n){Xi(t,e),0<n.length&&(t.i=null,t.g.set(Yi(t,e),Tn(n)),t.h+=n.length)}function Yi(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}(an=Gi.prototype).add=function(t,e){Ki(this),this.i=null,t=Yi(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},an.forEach=function(t,e){Ki(this),this.g.forEach((function(n,r){n.forEach((function(n){t.call(e,n,r,this)}),this)}),this)},an.ta=function(){Ki(this);for(var t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},an.Z=function(t){Ki(this);var e=[];if("string"==typeof t)Wi(this,t)&&(e=e.concat(this.g.get(Yi(this,t))));else{t=Array.from(this.g.values());for(var n=0;n<t.length;n++)e=e.concat(t[n])}return e},an.set=function(t,e){return Ki(this),this.i=null,Wi(this,t=Yi(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},an.get=function(t,e){return t&&0<(t=this.Z(t)).length?String(t[0]):e},an.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var t=[],e=Array.from(this.g.keys()),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var a=i;""!==o[r]&&(a+="="+encodeURIComponent(String(o[r]))),t.push(a)}}return this.i=t.join("&")};var Ji=function e(n,r){"use strict";t(a)(this,e),this.g=n,this.map=r};function Qi(t){this.l=t||$i,pn.PerformanceNavigationTiming?t=0<(t=pn.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):t=!!(pn.g&&pn.g.Ka&&pn.g.Ka()&&pn.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var $i=10;function Zi(t){return!!t.h||!!t.g&&t.g.size>=t.j}function to(t){return t.h?1:t.g?t.g.size:0}function eo(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function no(t,e){t.g?t.g.add(e):t.h=e}function ro(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function io(t){if(null!=t.h)return t.i.concat(t.h.F);if(null!=t.g&&0!==t.g.size){var e=t.i,n=!0,r=!1,i=void 0;try{for(var o,a=t.g.values()[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;e=e.concat(s.F)}}catch(t){r=!0,i=t}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}return e}return Tn(t.i)}Qi.prototype.cancel=function(){if(this.i=io(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var t=!0,e=!1,n=void 0;try{for(var r,i=this.g.values()[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){r.value.cancel()}}catch(t){e=!0,n=t}finally{try{t||null==i.return||i.return()}finally{if(e)throw n}}this.g.clear()}};var oo=function(){"use strict";function e(){t(a)(this,e)}return t(s)(e,[{key:"stringify",value:function(t){return pn.JSON.stringify(t,void 0)}},{key:"parse",value:function(t){return pn.JSON.parse(t,void 0)}}]),e}();function ao(){this.g=new oo}function so(t,e,n){var r=n||"";try{Ii(t,(function(t,n){var i=t;vn(t)&&(i=Er(t)),e.push(r+n+"="+encodeURIComponent(i))}))}catch(t){throw e.push(r+"type="+encodeURIComponent("_badmap")),t}}function uo(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(t){}}function co(t){this.l=t.fc||null,this.j=t.ob||!1}function lo(t,e){br.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=ho,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}En(co,ri),co.prototype.g=function(){return new lo(this.l,this.j)},co.prototype.i=function(t){return function(){return t}}({}),En(lo,br);var ho=0;function fo(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}function po(t){t.readyState=4,t.l=null,t.j=null,t.A=null,vo(t)}function vo(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(an=lo.prototype).open=function(t,e){if(this.readyState!=ho)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,vo(this)},an.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||pn).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},an.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((function(){})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,po(this)),this.readyState=ho},an.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,vo(this)),this.g&&(this.readyState=3,vo(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(void 0!==pn.ReadableStream&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;fo(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))},an.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?po(this):vo(this),3==this.readyState&&fo(this)}},an.Za=function(t){this.g&&(this.response=this.responseText=t,po(this))},an.Ya=function(t){this.g&&(this.response=t,po(this))},an.ka=function(){this.g&&po(this)},an.setRequestHeader=function(t,e){this.v.append(t,e)},an.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},an.getAllResponseHeaders=function(){if(!this.h)return"";for(var t=[],e=this.h.entries(),n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(lo.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var go=pn.JSON.parse;function yo(t){br.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=mo,this.L=this.M=!1}En(yo,br);var mo="",bo=/^https?$/i,wo=["POST","PUT"];function ko(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,Eo(t),So(t)}function Eo(t){t.F||(t.F=!0,wr(t,"complete"),wr(t,"error"))}function _o(t){if(t.h&&void 0!==fn&&(!t.C[1]||4!=Ao(t)||2!=t.da()))if(t.v&&4==Ao(t))jr(t.La,0,t);else if(wr(t,"readystatechange"),4==Ao(t)){t.h=!1;try{var e,n=t.da();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.I).match(Ci)[1]||null;!o&&pn.self&&pn.self.location&&(o=pn.self.location.protocol.slice(0,-1)),i=!bo.test(o?o.toLowerCase():"")}e=i}if(e)wr(t,"complete"),wr(t,"success");else{t.m=6;try{var a=2<Ao(t)?t.g.statusText:""}catch(t){a=""}t.j=a+" ["+t.da()+"]",Eo(t)}}finally{So(t)}}}function So(t,e){if(t.g){To(t);var n=t.g,r=t.C[0]?function(){}:null;t.g=null,t.C=null,e||wr(t,"ready");try{n.onreadystatechange=r}catch(t){}}}function To(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(pn.clearTimeout(t.A),t.A=null)}function Ao(t){return t.g?t.g.readyState:0}function Io(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case mo:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Co(t){var e="";return tr(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}function xo(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=Co(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Ri(t,e,n))}function Do(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Oo(t){this.Ga=0,this.j=[],this.l=new Gr,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Do("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Do("baseRetryDelayMs",5e3,t),this.hb=Do("retryDelaySeedMs",1e4,t),this.eb=Do("forwardChannelMaxRetries",2,t),this.xa=Do("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new Qi(t&&t.concurrentRequestLimit),this.Ja=new ao,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function Lo(t){if(Ro(t),3==t.H){var e=t.W++,n=Di(t.I);if(Ri(n,"SID",t.K),Ri(n,"RID",e),Ri(n,"TYPE","terminate"),jo(t,n),(e=new hi(t,t.l,e)).L=2,e.v=Pi(Di(n)),n=!1,pn.navigator&&pn.navigator.sendBeacon)try{n=pn.navigator.sendBeacon(e.v.toString(),"")}catch(t){}!n&&pn.Image&&((new Image).src=e.v,n=!0),n||(e.g=Yo(e.l,null),e.g.ha(e.v)),e.G=Date.now(),ki(e)}Wo(t)}function No(t){t.g&&(Vo(t),t.g.cancel(),t.g=null)}function Ro(t){No(t),t.u&&(pn.clearTimeout(t.u),t.u=null),zo(t),t.i.cancel(),t.m&&("number"==typeof t.m&&pn.clearTimeout(t.m),t.m=null)}function Po(t){if(!Zi(t.i)&&!t.m){t.m=!0;var e=t.Na;Dr||Nr(),Or||(Dr(),Or=!0),Lr.add(e,t),t.C=0}}function Mo(t,e){var n;n=e?e.m:t.W++;var r=Di(t.I);Ri(r,"SID",t.K),Ri(r,"RID",n),Ri(r,"AID",t.V),jo(t,r),t.o&&t.s&&xo(r,t.o,t.s),n=new hi(t,t.l,n,t.C+1),null===t.o&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=Fo(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),no(t.i,n),gi(n,r,e)}function jo(t,e){t.na&&tr(t.na,(function(t,n){Ri(e,n,t)})),t.h&&Ii({},(function(t,n){Ri(e,n,t)}))}function Fo(t,e,n){n=Math.min(t.j.length,n);var r=t.h?wn(t.h.Va,t.h,t):null;t:for(var i=t.j,o=-1;;){var a=["count="+n];-1==o?0<n?(o=i[0].g,a.push("ofs="+o)):o=0:a.push("ofs="+o);for(var s=!0,u=0;u<n;u++){var c=i[u].g,l=i[u].map;if(0>(c-=o))o=Math.max(0,i[u].g-100),s=!1;else try{so(l,a,"req"+c+"_")}catch(t){r&&r(l)}}if(s){r=a.join("&");break t}}return t=t.j.splice(0,n),e.F=t,r}function Uo(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Dr||Nr(),Or||(Dr(),Or=!0),Lr.add(e,t),t.A=0}}function Bo(t){return!(t.g||t.u||3<=t.A)&&(t.ba++,t.u=ti(wn(t.Ma,t),Ko(t,t.A)),t.A++,!0)}function Vo(t){null!=t.B&&(pn.clearTimeout(t.B),t.B=null)}function Ho(t){t.g=new hi(t,t.l,"rpc",t.ba),null===t.o&&(t.g.I=t.s),t.g.O=0;var e=Di(t.wa);Ri(e,"RID","rpc"),Ri(e,"SID",t.K),Ri(e,"AID",t.V),Ri(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Ri(e,"TO",t.qa),Ri(e,"TYPE","xmlhttp"),jo(t,e),t.o&&t.s&&xo(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=Pi(Di(e)),n.s=null,n.S=!0,yi(n,t)}function zo(t){null!=t.v&&(pn.clearTimeout(t.v),t.v=null)}function Go(t,e){var n=null;if(t.g==e){zo(t),Vo(t),t.g=null;var r=2}else{if(!eo(t.i,e))return;n=e.F,ro(t.i,e),r=1}if(0!=t.H)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;wr(r=qr(),new Zr(r,n)),Po(t)}else Uo(t);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function(t,e){return!(to(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.j=e.F.concat(t.j),0):1==t.H||2==t.H||t.C>=(t.cb?0:t.eb)||(t.m=ti(wn(t.Na,t,e),Ko(t,t.C)),t.C++,0)))}(t,e)||2==r&&Bo(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Xo(t,5);break;case 4:Xo(t,10);break;case 3:Xo(t,6);break;default:Xo(t,2)}}function Ko(t,e){var n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Xo(t,e){if(t.l.info("Error code "+e),2==e){var n=null;t.h&&(n=null);var r=wn(t.pb,t);n||(n=new xi("//www.google.com/images/cleardot.gif"),pn.location&&"http"==pn.location.protocol||Oi(n,"https"),Pi(n)),function(t,e){var n=new Gr;if(pn.Image){var r=new Image;r.onload=kn(uo,n,r,"TestLoadImage: loaded",!0,e),r.onerror=kn(uo,n,r,"TestLoadImage: error",!1,e),r.onabort=kn(uo,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=kn(uo,n,r,"TestLoadImage: timeout",!1,e),pn.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=t}else e(!1)}(n.toString(),r)}else $r(2);t.H=0,t.h&&t.h.za(e),Wo(t),Ro(t)}function Wo(t){if(t.H=0,t.ma=[],t.h){var e=io(t.i);0==e.length&&0==t.j.length||(An(t.ma,e),An(t.ma,t.j),t.i.i.length=0,Tn(t.j),t.j.length=0),t.h.ya()}}function qo(t,e,n){var r=n instanceof xi?Di(n):new xi(n);if(""!=r.g)e&&(r.g=e+"."+r.g),Li(r,r.m);else{var i=pn.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var o=new xi(null);r&&Oi(o,r),e&&(o.g=e),i&&Li(o,i),n&&(o.l=n),r=o}return n=t.F,e=t.Da,n&&e&&Ri(r,n,e),Ri(r,"VER",t.ra),jo(t,r),r}function Yo(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=n&&t.Ha&&!t.va?new yo(new co({ob:!0})):new yo(t.va)).Oa(t.J),e}function Jo(){}function Qo(){if(jn&&!(10<=Number(Wn)))throw Error("Environmental error: no available transport.")}function $o(t,e){br.call(this),this.g=new Oo(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!xn(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!xn(e)&&(this.g.F=e,null!==(t=this.h)&&e in t&&(e in(t=this.h)&&delete t[e])),this.j=new ea(this)}function Zo(t){ui.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function ta(){ci.call(this),this.status=1}function ea(t){this.g=t}function na(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function ra(t,e,n){n||(n=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var o=t.g[3],a=e+(o^n&(i^o))+r[0]+3614090360&4294967295;a=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=n+(a<<7&4294967295|a>>>25))+((a=o+(i^e&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^o&(e^n))+r[2]+606105819&4294967295)<<17&4294967295|a>>>15))+((a=n+(e^i&(o^e))+r[3]+3250441966&4294967295)<<22&4294967295|a>>>10))+((a=e+(o^n&(i^o))+r[4]+4118548399&4294967295)<<7&4294967295|a>>>25))+((a=o+(i^e&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^o&(e^n))+r[6]+2821735955&4294967295)<<17&4294967295|a>>>15))+((a=n+(e^i&(o^e))+r[7]+4249261313&4294967295)<<22&4294967295|a>>>10))+((a=e+(o^n&(i^o))+r[8]+1770035416&4294967295)<<7&4294967295|a>>>25))+((a=o+(i^e&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^o&(e^n))+r[10]+4294925233&4294967295)<<17&4294967295|a>>>15))+((a=n+(e^i&(o^e))+r[11]+2304563134&4294967295)<<22&4294967295|a>>>10))+((a=e+(o^n&(i^o))+r[12]+1804603682&4294967295)<<7&4294967295|a>>>25))+((a=o+(i^e&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^o&(e^n))+r[14]+2792965006&4294967295)<<17&4294967295|a>>>15))+((a=n+(e^i&(o^e))+r[15]+1236535329&4294967295)<<22&4294967295|a>>>10))+((a=e+(i^o&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|a>>>27))+((a=o+(n^i&(e^n))+r[6]+3225465664&4294967295)<<9&4294967295|a>>>23))+((a=i+(e^n&(o^e))+r[11]+643717713&4294967295)<<14&4294967295|a>>>18))+((a=n+(o^e&(i^o))+r[0]+3921069994&4294967295)<<20&4294967295|a>>>12))+((a=e+(i^o&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|a>>>27))+((a=o+(n^i&(e^n))+r[10]+38016083&4294967295)<<9&4294967295|a>>>23))+((a=i+(e^n&(o^e))+r[15]+3634488961&4294967295)<<14&4294967295|a>>>18))+((a=n+(o^e&(i^o))+r[4]+3889429448&4294967295)<<20&4294967295|a>>>12))+((a=e+(i^o&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|a>>>27))+((a=o+(n^i&(e^n))+r[14]+3275163606&4294967295)<<9&4294967295|a>>>23))+((a=i+(e^n&(o^e))+r[3]+4107603335&4294967295)<<14&4294967295|a>>>18))+((a=n+(o^e&(i^o))+r[8]+1163531501&4294967295)<<20&4294967295|a>>>12))+((a=e+(i^o&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|a>>>27))+((a=o+(n^i&(e^n))+r[2]+4243563512&4294967295)<<9&4294967295|a>>>23))+((a=i+(e^n&(o^e))+r[7]+1735328473&4294967295)<<14&4294967295|a>>>18))+((a=n+(o^e&(i^o))+r[12]+2368359562&4294967295)<<20&4294967295|a>>>12))+((a=e+(n^i^o)+r[5]+4294588738&4294967295)<<4&4294967295|a>>>28))+((a=o+(e^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|a>>>21))+((a=i+(o^e^n)+r[11]+1839030562&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^o^e)+r[14]+4259657740&4294967295)<<23&4294967295|a>>>9))+((a=e+(n^i^o)+r[1]+2763975236&4294967295)<<4&4294967295|a>>>28))+((a=o+(e^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|a>>>21))+((a=i+(o^e^n)+r[7]+4139469664&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^o^e)+r[10]+3200236656&4294967295)<<23&4294967295|a>>>9))+((a=e+(n^i^o)+r[13]+681279174&4294967295)<<4&4294967295|a>>>28))+((a=o+(e^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|a>>>21))+((a=i+(o^e^n)+r[3]+3572445317&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^o^e)+r[6]+76029189&4294967295)<<23&4294967295|a>>>9))+((a=e+(n^i^o)+r[9]+3654602809&4294967295)<<4&4294967295|a>>>28))+((a=o+(e^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|a>>>21))+((a=i+(o^e^n)+r[15]+530742520&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^o^e)+r[2]+3299628645&4294967295)<<23&4294967295|a>>>9))+((a=e+(i^(n|~o))+r[0]+4096336452&4294967295)<<6&4294967295|a>>>26))+((a=o+(n^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|a>>>22))+((a=i+(e^(o|~n))+r[14]+2878612391&4294967295)<<15&4294967295|a>>>17))+((a=n+(o^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|a>>>11))+((a=e+(i^(n|~o))+r[12]+1700485571&4294967295)<<6&4294967295|a>>>26))+((a=o+(n^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|a>>>22))+((a=i+(e^(o|~n))+r[10]+4293915773&4294967295)<<15&4294967295|a>>>17))+((a=n+(o^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|a>>>11))+((a=e+(i^(n|~o))+r[8]+1873313359&4294967295)<<6&4294967295|a>>>26))+((a=o+(n^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|a>>>22))+((a=i+(e^(o|~n))+r[6]+2734768916&4294967295)<<15&4294967295|a>>>17))+((a=n+(o^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|a>>>11))+((o=(e=n+((a=e+(i^(n|~o))+r[4]+4149444226&4294967295)<<6&4294967295|a>>>26))+((a=o+(n^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|a>>>22))^((i=o+((a=i+(e^(o|~n))+r[2]+718787259&4294967295)<<15&4294967295|a>>>17))|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(a<<21&4294967295|a>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+o&4294967295}function ia(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var o=0|t[i];r&&o==e||(n[i]=o,r=!1)}this.g=n}(an=yo.prototype).Oa=function(t){this.M=t},an.ha=function(e,n,r,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);n=n?n.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():ai.g(),this.C=this.u?ii(this.u):ii(ai),this.g.onreadystatechange=wn(this.La,this);try{this.G=!0,this.g.open(n,String(e),!0),this.G=!1}catch(t){return void ko(this,t)}if(e=r||"",r=new Map(this.headers),i){var o=!0,a=!1,s=void 0;if(Object.getPrototypeOf(i)===Object.prototype)for(var u in i)r.set(u,i[u]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));try{for(var c,l=i.keys()[Symbol.iterator]();!(o=(c=l.next()).done);o=!0){var h=c.value;r.set(h,i.get(h))}}catch(t){a=!0,s=t}finally{try{o||null==l.return||l.return()}finally{if(a)throw s}}}}i=Array.from(r.keys()).find((function(t){return"content-type"==t.toLowerCase()})),u=pn.FormData&&e instanceof pn.FormData,!(0<=Sn(wo,n))||i||u||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");var f=!0,p=!1,v=void 0;try{for(var g,y=r[Symbol.iterator]();!(f=(g=y.next()).done);f=!0){var m=t(d)(g.value,2),b=m[0],w=m[1];this.g.setRequestHeader(b,w)}}catch(t){p=!0,v=t}finally{try{f||null==y.return||y.return()}finally{if(p)throw v}}this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{To(this),0<this.B&&((this.L=function(t){return jn&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=wn(this.ua,this)):this.A=jr(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(t){ko(this,t)}},an.ua=function(){void 0!==fn&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,wr(this,"timeout"),this.abort(8))},an.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,wr(this,"complete"),wr(this,"abort"),So(this))},an.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),So(this,!0)),yo.$.N.call(this)},an.La=function(){this.s||(this.G||this.v||this.l?_o(this):this.kb())},an.kb=function(){_o(this)},an.isActive=function(){return!!this.g},an.da=function(){try{return 2<Ao(this)?this.g.status:-1}catch(t){return-1}},an.ja=function(){try{return this.g?this.g.responseText:""}catch(t){return""}},an.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),go(e)}},an.Ia=function(){return this.m},an.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(an=Oo.prototype).ra=8,an.H=1,an.Na=function(t){if(this.m)if(this.m=null,1==this.H){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;var e=new hi(this,this.l,t),n=this.s;if(this.U&&(n?rr(n=er(n),this.U):n=this.U),null!==this.o||this.O||(e.I=n,n=null),this.P)t:{for(var r=0,i=0;i<this.j.length;i++){var o=this.j[i];if(void 0===(o="__data__"in o.map&&"string"==typeof(o=o.map.__data__)?o.length:void 0))break;if(4096<(r+=o)){r=i;break t}if(4096===r||i===this.j.length-1){r=i+1;break t}}r=1e3}else r=1e3;r=Fo(this,e,r),Ri(i=Di(this.I),"RID",t),Ri(i,"CVER",22),this.F&&Ri(i,"X-HTTP-Session-Id",this.F),jo(this,i),n&&(this.O?r="headers="+encodeURIComponent(String(Co(n)))+"&"+r:this.o&&xo(i,this.o,n)),no(this.i,e),this.bb&&Ri(i,"TYPE","init"),this.P?(Ri(i,"$req",r),Ri(i,"SID","null"),e.aa=!0,gi(e,i,null)):gi(e,i,r),this.H=2}}else 3==this.H&&(t?Mo(this,t):0==this.j.length||Zi(this.i)||Mo(this))},an.Ma=function(){if(this.u=null,Ho(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=ti(wn(this.jb,this),t)}},an.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,$r(10),No(this),Ho(this))},an.ib=function(){null!=this.v&&(this.v=null,No(this),Bo(this),$r(19))},an.pb=function(t){t?(this.l.info("Successfully pinged google.com"),$r(2)):(this.l.info("Failed to ping google.com"),$r(1))},an.isActive=function(){return!!this.h&&this.h.isActive(this)},(an=Jo.prototype).Ba=function(){},an.Aa=function(){},an.za=function(){},an.ya=function(){},an.isActive=function(){return!0},an.Va=function(){},Qo.prototype.g=function(t,e){return new $o(t,e)},En($o,br),$o.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;$r(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=qo(t,null,t.Y),Po(t)},$o.prototype.close=function(){Lo(this.g)},$o.prototype.u=function(t){var e=this.g;if("string"==typeof t){var n={};n.__data__=t,t=n}else this.v&&((n={}).__data__=Er(t),t=n);e.j.push(new Ji(e.fb++,t)),3==e.H&&Po(e)},$o.prototype.N=function(){this.g.h=null,delete this.j,Lo(this.g),delete this.g,$o.$.N.call(this)},En(Zo,ui),En(ta,ci),En(ea,Jo),ea.prototype.Ba=function(){wr(this.g,"a")},ea.prototype.Aa=function(t){wr(this.g,new Zo(t))},ea.prototype.za=function(t){wr(this.g,new ta)},ea.prototype.ya=function(){wr(this.g,"b")},En(na,(function(){this.blockSize=-1})),na.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},na.prototype.j=function(t,e){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,o=0;o<e;){if(0==i)for(;o<=n;)ra(this,t,o),o+=this.blockSize;if("string"==typeof t){for(;o<e;)if(r[i++]=t.charCodeAt(o++),i==this.blockSize){ra(this,r),i=0;break}}else for(;o<e;)if(r[i++]=t[o++],i==this.blockSize){ra(this,r),i=0;break}}this.h=i,this.i+=e},na.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=255&n,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};var oa={};function aa(t){return-128<=t&&128>t?function(t,e){var n=oa;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,(function(t){return new ia([0|t],0>t?-1:0)})):new ia([0|t],0>t?-1:0)}function sa(t){if(isNaN(t)||!isFinite(t))return ca;if(0>t)return da(sa(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=ua;return new ia(e,0)}var ua=4294967296,ca=aa(0),la=aa(1),ha=aa(16777216);function fa(t){if(0!=t.h)return!1;for(var e=0;e<t.g.length;e++)if(0!=t.g[e])return!1;return!0}function pa(t){return-1==t.h}function da(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new ia(n,~t.h).add(la)}function va(t,e){return t.add(da(e))}function ga(t,e){for(;(65535&t[e])!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function ya(t,e){this.g=t,this.h=e}function ma(t,e){if(fa(e))throw Error("division by zero");if(fa(t))return new ya(ca,ca);if(pa(t))return e=ma(da(t),e),new ya(da(e.g),da(e.h));if(pa(e))return e=ma(t,da(e)),new ya(da(e.g),e.h);if(30<t.g.length){if(pa(t)||pa(e))throw Error("slowDivide_ only works with positive integers.");for(var n=la,r=e;0>=r.X(t);)n=ba(n),r=ba(r);var i=wa(n,1),o=wa(r,1);for(r=wa(r,2),n=wa(n,2);!fa(r);){var a=o.add(r);0>=a.X(t)&&(i=i.add(n),o=a),r=wa(r,1),n=wa(n,1)}return e=va(t,i.R(e)),new ya(i,e)}for(i=ca;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),a=(o=sa(n)).R(e);pa(a)||0<a.X(t);)a=(o=sa(n-=r)).R(e);fa(o)&&(o=la),i=i.add(o),t=va(t,a)}return new ya(i,t)}function ba(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new ia(n,t.h)}function wa(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],o=0;o<r;o++)i[o]=0<e?t.D(o+n)>>>e|t.D(o+n+1)<<32-e:t.D(o+n);return new ia(i,t.h)}(an=ia.prototype).ea=function(){if(pa(this))return-da(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:ua+r)*e,e*=ua}return t},an.toString=function(t){if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if(fa(this))return"0";if(pa(this))return"-"+da(this).toString(t);for(var e=sa(Math.pow(t,6)),n=this,r="";;){var i=ma(n,e).g,o=((0<(n=va(n,i.R(e))).g.length?n.g[0]:n.h)>>>0).toString(t);if(fa(n=i))return o+r;for(;6>o.length;)o="0"+o;r=o+r}},an.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h},an.X=function(t){return pa(t=va(this,t))?-1:fa(t)?0:1},an.abs=function(){return pa(this)?da(this):this},an.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var o=r+(65535&this.D(i))+(65535&t.D(i)),a=(o>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=a>>>16,o&=65535,a&=65535,n[i]=a<<16|o}return new ia(n,-2147483648&n[n.length-1]?-1:0)},an.R=function(t){if(fa(this)||fa(t))return ca;if(pa(this))return pa(t)?da(this).R(da(t)):da(da(this).R(t));if(pa(t))return da(this.R(da(t)));if(0>this.X(ha)&&0>t.X(ha))return sa(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var o=this.D(r)>>>16,a=65535&this.D(r),s=t.D(i)>>>16,u=65535&t.D(i);n[2*r+2*i]+=a*u,ga(n,2*r+2*i),n[2*r+2*i+1]+=o*u,ga(n,2*r+2*i+1),n[2*r+2*i+1]+=a*s,ga(n,2*r+2*i+1),n[2*r+2*i+2]+=o*s,ga(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new ia(n,0)},an.gb=function(t){return ma(this,t).h},an.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new ia(n,this.h&t.h)},an.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new ia(n,this.h|t.h)},an.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new ia(n,this.h^t.h)},Qo.prototype.createWebChannel=Qo.prototype.g,$o.prototype.send=$o.prototype.u,$o.prototype.open=$o.prototype.m,$o.prototype.close=$o.prototype.close,ei.NO_ERROR=0,ei.TIMEOUT=8,ei.HTTP_ERROR=6,ni.COMPLETE="complete",oi.EventType=si,si.OPEN="a",si.CLOSE="b",si.ERROR="c",si.MESSAGE="d",br.prototype.listen=br.prototype.O,yo.prototype.listenOnce=yo.prototype.P,yo.prototype.getLastError=yo.prototype.Sa,yo.prototype.getLastErrorCode=yo.prototype.Ia,yo.prototype.getStatus=yo.prototype.da,yo.prototype.getResponseJson=yo.prototype.Wa,yo.prototype.getResponseText=yo.prototype.ja,yo.prototype.send=yo.prototype.ha,yo.prototype.setWithCredentials=yo.prototype.Oa,na.prototype.digest=na.prototype.l,na.prototype.reset=na.prototype.reset,na.prototype.update=na.prototype.j,ia.prototype.add=ia.prototype.add,ia.prototype.multiply=ia.prototype.R,ia.prototype.modulo=ia.prototype.gb,ia.prototype.compare=ia.prototype.X,ia.prototype.toNumber=ia.prototype.ea,ia.prototype.toString=ia.prototype.toString,ia.prototype.getBits=ia.prototype.D,ia.fromNumber=sa,ia.fromString=function t(e,n){if(0==e.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==e.charAt(0))return da(t(e.substring(1),n));if(0<=e.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=sa(Math.pow(n,8)),i=ca,o=0;o<e.length;o+=8){var a=Math.min(8,e.length-o),s=parseInt(e.substring(o,o+a),n);8>a?(a=sa(Math.pow(n,a)),i=i.R(a).add(sa(s))):i=(i=i.R(r)).add(sa(s))}return i};hn.createWebChannelTransport=function(){return new Qo},hn.getStatEventTarget=function(){return qr()},hn.ErrorCode=ei,hn.EventType=ni,hn.Event=Xr,hn.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},hn.FetchXmlHttpFactory=co,hn.WebChannel=oi,hn.XhrIo=yo,hn.Md5=na;var ka=hn.Integer=ia,Ea="@firebase/firestore",_a=function(){"use strict";function e(n){t(a)(this,e),this.uid=n}return t(s)(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(t){return t.uid===this.uid}}]),e}();_a.UNAUTHENTICATED=new _a(null),_a.GOOGLE_CREDENTIALS=new _a("google-credentials-uid"),_a.FIRST_PARTY=new _a("first-party-uid"),_a.MOCK_USER=new _a("mock-user");
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Sa="9.23.0",Ta=new Ut("@firebase/firestore");
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aa(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];if(Ta.logLevel<=Ot.DEBUG){var o,a=r.map(xa);(o=Ta).debug.apply(o,["Firestore (".concat(Sa,"): ").concat(e)].concat(t(w)(a)))}}function Ia(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];if(Ta.logLevel<=Ot.ERROR){var o,a=r.map(xa);(o=Ta).error.apply(o,["Firestore (".concat(Sa,"): ").concat(e)].concat(t(w)(a)))}}function Ca(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];if(Ta.logLevel<=Ot.WARN){var o,a=r.map(xa);(o=Ta).warn.apply(o,["Firestore (".concat(Sa,"): ").concat(e)].concat(t(w)(a)))}}function xa(t){if("string"==typeof t)return t;try{return e=t,JSON.stringify(e)}catch(e){return t}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Da(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",e="FIRESTORE (".concat(Sa,") INTERNAL ASSERTION FAILED: ")+t;throw Ia(e),new Error(e)}function Oa(t,e){t||Da()}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var La={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Na=function(e){"use strict";t(h)(r,e);var n=t(N)(r);function r(e,i){var o;return t(a)(this,r),(o=n.call(this,e,i)).code=e,o.message=i,o.toString=function(){return"".concat(o.name,": [code=").concat(o.code,"]: ").concat(o.message)},t(un)(o)}return r}(ft),Ra=function e(){"use strict";var n=this;t(a)(this,e),this.promise=new Promise((function(t,e){n.resolve=t,n.reject=e}))},Pa=function e(n,r){"use strict";t(a)(this,e),this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(n))},Ma=function(){"use strict";function e(){t(a)(this,e)}return t(s)(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(t,e){t.enqueueRetryable((function(){return e(_a.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),ja=function(){"use strict";function e(n){t(a)(this,e),this.token=n,this.changeListener=null}return t(s)(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(t,e){var n=this;this.changeListener=e,t.enqueueRetryable((function(){return e(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),Fa=function(){"use strict";function e(n){t(a)(this,e),this.t=n,this.currentUser=_a.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return t(s)(e,[{key:"start",value:function(e,n){var r=this,i=this.i,o=function(t){return r.i!==i?(i=r.i,n(t)):Promise.resolve()},a=new Ra;this.o=function(){var t=r;r.i++,r.currentUser=r.u(),a.resolve(),a=new Ra,e.enqueueRetryable((function(){return o(t.currentUser)}))};var s=function(){var n=a,i=r;e.enqueueRetryable(t(Et)(t(St).mark((function e(){return t(St).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.promise;case 2:return t.next=4,o(i.currentUser);case 4:case"end":return t.stop()}}),e)}))))},u=function(t){Aa("FirebaseAuthCredentialsProvider","Auth detected"),r.auth=t,r.auth.addAuthTokenListener(r.o),s()};this.t.onInit((function(t){return u(t)})),setTimeout((function(){if(!r.auth){var t=r.t.getImmediate({optional:!0});t?u(t):(Aa("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Ra)}}),0),s()}},{key:"getToken",value:function(){var t=this,e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return t.i!==e?(Aa("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(Oa("string"==typeof n.accessToken),new Pa(n.accessToken,t.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var t=this.auth&&this.auth.getUid();return Oa(null===t||"string"==typeof t),new _a(t)}}]),e}(),Ua=function(){"use strict";function e(n,r,i){t(a)(this,e),this.h=n,this.l=r,this.m=i,this.type="FirstParty",this.user=_a.FIRST_PARTY,this.g=new Map}return t(s)(e,[{key:"p",value:function(){return this.m?this.m():null}},{key:"headers",get:function(){this.g.set("X-Goog-AuthUser",this.h);var t=this.p();return t&&this.g.set("Authorization",t),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}]),e}(),Ba=function(){"use strict";function e(n,r,i){t(a)(this,e),this.h=n,this.l=r,this.m=i}return t(s)(e,[{key:"getToken",value:function(){return Promise.resolve(new Ua(this.h,this.l,this.m))}},{key:"start",value:function(t,e){t.enqueueRetryable((function(){return e(_a.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),Va=function e(n){"use strict";t(a)(this,e),this.value=n,this.type="AppCheck",this.headers=new Map,n&&n.length>0&&this.headers.set("x-firebase-appcheck",this.value)},Ha=function(){"use strict";function e(n){t(a)(this,e),this.I=n,this.forceRefresh=!1,this.appCheck=null,this.T=null}return t(s)(e,[{key:"start",value:function(t,e){var n=this;this.o=function(r){t.enqueueRetryable((function(){return function(t){null!=t.error&&Aa("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(t.error.message));var r=t.token!==n.T;return n.T=t.token,Aa("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?e(t.token):Promise.resolve()}(r)}))};var r=function(t){Aa("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=t,n.appCheck.addTokenListener(n.o)};this.I.onInit((function(t){return r(t)})),setTimeout((function(){if(!n.appCheck){var t=n.I.getImmediate({optional:!0});t?r(t):Aa("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var t=this,e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((function(e){return e?(Oa("string"==typeof e.token),t.T=e.token,new Va(e.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function za(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ga=function(){"use strict";function e(){t(a)(this,e)}return t(s)(e,null,[{key:"A",value:function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=za(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n}}]),e}();function Ka(t,e){return t<e?-1:t>e?1:0}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Xa=function(){"use strict";function e(n,r,i){t(a)(this,e),void 0===r?r=0:r>n.length&&Da(),void 0===i?i=n.length-r:i>n.length-r&&Da(),this.segments=n,this.offset=r,this.len=i}return t(s)(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(t){n.push(t)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(t){return t=void 0===t?1:t,this.construct(this.segments,this.offset+t,this.length-t)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(t){return this.segments[this.offset+t]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}},{key:"isImmediateParentOf",value:function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}},{key:"forEach",value:function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}]),e}(),Wa=function(e){"use strict";t(h)(r,e);var n=t(N)(r);function r(){return t(a)(this,r),n.apply(this,arguments)}return t(s)(r,[{key:"construct",value:function(t,e,n){return new r(t,e,n)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];var o=[],a=!0,s=!1,u=void 0;try{for(var c,l=n[Symbol.iterator]();!(a=(c=l.next()).done);a=!0){var h,f=c.value;if(f.indexOf("//")>=0)throw new Na(La.INVALID_ARGUMENT,"Invalid segment (".concat(f,"). Paths must not contain // in them."));(h=o).push.apply(h,t(w)(f.split("/").filter((function(t){return t.length>0}))))}}catch(t){s=!0,u=t}finally{try{a||null==l.return||l.return()}finally{if(s)throw u}}return new r(o)}},{key:"emptyPath",value:function(){return new r([])}}]),r}(Xa),qa=function(){"use strict";function e(n){t(a)(this,e),this.path=n}return t(s)(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(t){return null!==t&&0===Wa.comparator(this.path,t.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(Wa.fromString(t))}},{key:"fromName",value:function(t){return new e(Wa.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(Wa.emptyPath())}},{key:"comparator",value:function(t,e){return Wa.comparator(t.path,e.path)}},{key:"isDocumentKey",value:function(t){return t.length%2==0}},{key:"fromSegments",value:function(t){return new e(new Wa(t.slice()))}}]),e}(),Ya=function e(n,r,i,o){"use strict";t(a)(this,e),this.indexId=n,this.collectionGroup=r,this.fields=i,this.indexState=o};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ya.UNKNOWN_ID=-1;function Ja(t){return"IndexedDbTransactionError"===t.name}var Qa=function(){"use strict";function e(n,r){var i=this;t(a)(this,e),this.previousValue=n,r&&(r.sequenceNumberHandler=function(t){return i.ot(t)},this.ut=function(t){return r.writeSequenceNumber(t)})}return t(s)(e,[{key:"ot",value:function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}},{key:"next",value:function(){var t=++this.previousValue;return this.ut&&this.ut(t),t}}]),e}();function $a(t){return 0===t&&1/t==-1/0}Qa.ct=-1;var Za=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],ts=(t(w)(Za).concat(["documentOverlays"]),["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"]),es=ts;
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */t(w)(es).concat(["indexConfiguration","indexState","indexEntries"]);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var ns=function(){"use strict";function e(n,r){t(a)(this,e),this.comparator=n,this.root=r||is.EMPTY}return t(s)(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,is.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,is.BLACK,null,null))}},{key:"get",value:function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null}},{key:"indexOf",value:function(t){for(var e=0,n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(t){return this.root.inorderTraversal(t)}},{key:"forEach",value:function(t){this.inorderTraversal((function(e,n){return t(e,n),!1}))}},{key:"toString",value:function(){var t=[];return this.inorderTraversal((function(e,n){return t.push("".concat(e,":").concat(n)),!1})),"{".concat(t.join(", "),"}")}},{key:"reverseTraversal",value:function(t){return this.root.reverseTraversal(t)}},{key:"getIterator",value:function(){return new rs(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(t){return new rs(this.root,t,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new rs(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(t){return new rs(this.root,t,this.comparator,!0)}}]),e}(),rs=function(){"use strict";function e(n,r,i,o){t(a)(this,e),this.isReverse=o,this.nodeStack=[];for(var s=1;!n.isEmpty();)if(s=r?i(n.key,r):1,r&&o&&(s*=-1),s<0)n=this.isReverse?n.left:n.right;else{if(0===s){this.nodeStack.push(n);break}this.nodeStack.push(n),n=this.isReverse?n.right:n.left}}return t(s)(e,[{key:"getNext",value:function(){var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}]),e}(),is=function(){"use strict";function e(n,r,i,o,s){t(a)(this,e),this.key=n,this.value=r,this.color=null!=i?i:e.RED,this.left=null!=o?o:e.EMPTY,this.right=null!=s?s:e.EMPTY,this.size=this.left.size+1+this.right.size}return t(s)(e,[{key:"copy",value:function(t,n,r,i,o){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}},{key:"reverseTraversal",value:function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}},{key:"moveRedLeft",value:function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t}},{key:"moveRedRight",value:function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}},{key:"checkMaxDepth",value:function(){var t=this.check();return Math.pow(2,t)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw Da();if(this.right.isRed())throw Da();var t=this.left.check();if(t!==this.right.check())throw Da();return t+(this.isRed()?0:1)}}]),e}();is.EMPTY=null,is.RED=!0,is.BLACK=!1,is.EMPTY=new(function(){"use strict";function e(){t(a)(this,e),this.size=0}return t(s)(e,[{key:"key",get:function(){throw Da()}},{key:"value",get:function(){throw Da()}},{key:"color",get:function(){throw Da()}},{key:"left",get:function(){throw Da()}},{key:"right",get:function(){throw Da()}},{key:"copy",value:function(t,e,n,r,i){return this}},{key:"insert",value:function(t,e,n){return new is(t,e)}},{key:"remove",value:function(t,e){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(t){return!1}},{key:"reverseTraversal",value:function(t){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var os=function(){"use strict";function e(n){t(a)(this,e),this.comparator=n,this.data=new ns(this.comparator)}return t(s)(e,[{key:"has",value:function(t){return null!==this.data.get(t)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(t){return this.data.indexOf(t)}},{key:"forEach",value:function(t){this.data.inorderTraversal((function(e,n){return t(e),!1}))}},{key:"forEachInRange",value:function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}},{key:"forEachWhile",value:function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}},{key:"getIterator",value:function(){return new as(this.data.getIterator())}},{key:"getIteratorFrom",value:function(t){return new as(this.data.getIteratorFrom(t))}},{key:"add",value:function(t){return this.copy(this.data.remove(t).insert(t,!0))}},{key:"delete",value:function(t){return this.has(t)?this.copy(this.data.remove(t)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach((function(t){e=e.add(t)})),e}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0}},{key:"toArray",value:function(){var t=[];return this.forEach((function(e){t.push(e)})),t}},{key:"toString",value:function(){var t=[];return this.forEach((function(e){return t.push(e)})),"SortedSet("+t.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),as=function(){"use strict";function e(n){t(a)(this,e),this.iter=n}return t(s)(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var ss=function(e){"use strict";t(h)(r,e);var n=t(N)(r);function r(){var e;return t(a)(this,r),(e=n.call.apply(n,[this].concat(Array.prototype.slice.call(arguments)))).name="Base64DecodeError",t(un)(e)}return r}(t(A)(Error));
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var us=Symbol.iterator,cs=function(){"use strict";function e(n){t(a)(this,e),this.binaryString=n}return t(s)(e,[{key:us,value:function(){var t=this,e=0;return{next:function(){return e<t.binaryString.length?{value:t.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){var t;return t=this.binaryString,btoa(t)}},{key:"toUint8Array",value:function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(t){return Ka(this.binaryString,t.binaryString)}},{key:"isEqual",value:function(t){return this.binaryString===t.binaryString}}],[{key:"fromBase64String",value:function(t){return new e(function(t){try{return atob(t)}catch(t){throw"undefined"!=typeof DOMException&&t instanceof DOMException?new ss("Invalid base64 string: "+t):t}}(t))}},{key:"fromUint8Array",value:function(t){return new e(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(t))}}]),e}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */cs.EMPTY_BYTE_STRING=new cs("");new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ls(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function hs(t){return"string"==typeof t?cs.fromBase64String(t):cs.fromUint8Array(t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var fs=function e(n,r,i,o,s,u,c,l,h){"use strict";t(a)(this,e),this.databaseId=n,this.appId=r,this.persistenceKey=i,this.host=o,this.ssl=s,this.forceLongPolling=u,this.autoDetectLongPolling=c,this.longPollingOptions=l,this.useFetchStreams=h},ps=function(){"use strict";function e(n,r){t(a)(this,e),this.projectId=n,this.database=r||"(default)"}return t(s)(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function ds(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
new ns(qa.comparator);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new ns(qa.comparator);new ns(qa.comparator),new os(qa.comparator);new os(Ka);var vs,gs;(gs=vs||(vs={}))[gs.OK=0]="OK",gs[gs.CANCELLED=1]="CANCELLED",gs[gs.UNKNOWN=2]="UNKNOWN",gs[gs.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",gs[gs.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",gs[gs.NOT_FOUND=5]="NOT_FOUND",gs[gs.ALREADY_EXISTS=6]="ALREADY_EXISTS",gs[gs.PERMISSION_DENIED=7]="PERMISSION_DENIED",gs[gs.UNAUTHENTICATED=16]="UNAUTHENTICATED",gs[gs.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",gs[gs.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",gs[gs.ABORTED=10]="ABORTED",gs[gs.OUT_OF_RANGE=11]="OUT_OF_RANGE",gs[gs.UNIMPLEMENTED=12]="UNIMPLEMENTED",gs[gs.INTERNAL=13]="INTERNAL",gs[gs.UNAVAILABLE=14]="UNAVAILABLE",gs[gs.DATA_LOSS=15]="DATA_LOSS";
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
new ka([4294967295,4294967295],0);t(A)(Error);
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ys=function(){"use strict";function e(){t(a)(this,e)}return t(s)(e,[{key:"_e",value:function(t,e){this.me(t,e),e.ge()}},{key:"me",value:function(t,e){if("nullValue"in t)this.ye(e,5);else if("booleanValue"in t)this.ye(e,10),e.pe(t.booleanValue?1:0);else if("integerValue"in t)this.ye(e,15),e.pe(ls(t.integerValue));else if("doubleValue"in t){var n=ls(t.doubleValue);isNaN(n)?this.ye(e,13):(this.ye(e,15),$a(n)?e.pe(0):e.pe(n))}else if("timestampValue"in t){var r=t.timestampValue;this.ye(e,20),"string"==typeof r?e.Ie(r):(e.Ie("".concat(r.seconds||"")),e.pe(r.nanos||0))}else if("stringValue"in t)this.Te(t.stringValue,e),this.Ee(e);else if("bytesValue"in t)this.ye(e,30),e.Ae(hs(t.bytesValue)),this.Ee(e);else if("referenceValue"in t)this.ve(t.referenceValue,e);else if("geoPointValue"in t){var i=t.geoPointValue;this.ye(e,45),e.pe(i.latitude||0),e.pe(i.longitude||0)}else"mapValue"in t?ds(t)?this.ye(e,Number.MAX_SAFE_INTEGER):(this.Re(t.mapValue,e),this.Ee(e)):"arrayValue"in t?(this.Pe(t.arrayValue,e),this.Ee(e)):Da()}},{key:"Te",value:function(t,e){this.ye(e,25),this.be(t,e)}},{key:"be",value:function(t,e){e.Ie(t)}},{key:"Re",value:function(t,e){var n=t.fields||{};this.ye(e,55);var r=!0,i=!1,o=void 0;try{for(var a,s=Object.keys(n)[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var u=a.value;this.Te(u,e),this.me(n[u],e)}}catch(t){i=!0,o=t}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}}},{key:"Pe",value:function(t,e){var n=t.values||[];this.ye(e,50);var r=!0,i=!1,o=void 0;try{for(var a,s=n[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var u=a.value;this.me(u,e)}}catch(t){i=!0,o=t}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}}},{key:"ve",value:function(t,e){var n=this;this.ye(e,37),qa.fromName(t).path.forEach((function(t){n.ye(e,60),n.be(t,e)}))}},{key:"ye",value:function(t,e){t.pe(e)}},{key:"Ee",value:function(t){t.pe(2)}}]),e}();ys.Ve=new ys;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
new Uint8Array(0);
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var ms=function(){"use strict";function e(n,r,i){t(a)(this,e),this.cacheSizeCollectionThreshold=n,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=i}return t(s)(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ms.DEFAULT_COLLECTION_PERCENTILE=10,ms.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ms.DEFAULT=new ms(41943040,ms.DEFAULT_COLLECTION_PERCENTILE,ms.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ms.DISABLED=new ms(-1,0,0);function bs(){return"undefined"!=typeof document?document:null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var ws=function(){"use strict";function e(n,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;t(a)(this,e),this.ii=n,this.timerId=r,this.Po=i,this.bo=o,this.Vo=s,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}return t(s)(e,[{key:"reset",value:function(){this.So=0}},{key:"xo",value:function(){this.So=this.Vo}},{key:"No",value:function(t){var e=this;this.cancel();var n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,n-r);i>0&&Aa("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.So," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,(function(){return e.Co=Date.now(),t()})),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}},{key:"Mo",value:function(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}},{key:"cancel",value:function(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}},{key:"ko",value:function(){return(Math.random()-.5)*this.So}}]),e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var ks=function(){"use strict";function e(n,r,i,o,s){t(a)(this,e),this.asyncQueue=n,this.timerId=r,this.targetTimeMs=i,this.op=o,this.removalCallback=s,this.deferred=new Ra,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(t){}))}return t(s)(e,[{key:"start",value:function(t){var e=this;this.timerHandle=setTimeout((function(){return e.handleDelayElapsed()}),t)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Na(La.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}},{key:"handleDelayElapsed",value:function(){var t=this;this.asyncQueue.enqueueAndForget((function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then((function(e){return t.deferred.resolve(e)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}],[{key:"createAndSchedule",value:function(t,n,r,i,o){var a=new e(t,n,Date.now()+r,i,o);return a.start(r),a}}]),e}();function Es(t,e){if(Ia("AsyncQueue","".concat(e,": ").concat(t)),Ja(t))return new Na(La.UNAVAILABLE,"".concat(e,": ").concat(t));throw t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var _s=function(){"use strict";function e(n,r,i,o){var s=this;t(a)(this,e);var u,c=this;this.authCredentials=n,this.appCheckCredentials=r,this.asyncQueue=i,this.databaseInfo=o,this.user=_a.UNAUTHENTICATED,this.clientId=Ga.A(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(i,(u=t(Et)(t(St).mark((function e(n){return t(St).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return Aa("FirestoreClient","Received user=",n.uid),t.next=3,c.authCredentialListener(n);case 3:c.user=n;case 4:case"end":return t.stop()}}),e)}))),function(t){return u.apply(this,arguments)})),this.appCheckCredentials.start(i,(function(t){return Aa("FirestoreClient","Received new app check token=",t),s.appCheckCredentialListener(t,s.user)}))}return t(s)(e,[{key:"getConfiguration",value:function(){var e=this;return t(Et)(t(St).mark((function n(){return t(St).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100});case 1:case"end":return t.stop()}}),n)})))()}},{key:"setCredentialChangeListener",value:function(t){this.authCredentialListener=t}},{key:"setAppCheckTokenChangeListener",value:function(t){this.appCheckCredentialListener=t}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new Na(La.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){this.asyncQueue.enterRestrictedMode();var e=new Ra,n=this;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(t(Et)(t(St).mark((function r(){var i;return t(St).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,t.t0=n._onlineComponents,!t.t0){t.next=5;break}return t.next=5,n._onlineComponents.terminate();case 5:if(t.t1=n._offlineComponents,!t.t1){t.next=9;break}return t.next=9,n._offlineComponents.terminate();case 9:n.authCredentials.shutdown(),n.appCheckCredentials.shutdown(),e.resolve(),t.next=18;break;case 14:t.prev=14,t.t2=t.catch(0),i=Es(t.t2,"Failed to shutdown persistence"),e.reject(i);case 18:case"end":return t.stop()}}),r,null,[[0,14]])})))),e.promise}}]),e}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Ss(t){var e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}var Ts=new Map;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function As(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t="".concat(t.substring(0,20),"...")),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=(n=t).constructor?n.constructor.name:null;return e?"a custom ".concat(e," object"):"an object"}var n;return"function"==typeof t?"a function":Da()}function Is(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Na(La.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=As(t);throw new Na(La.INVALID_ARGUMENT,"Expected type '".concat(e.name,"', but it was: ").concat(n))}return t}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Cs=function(){"use strict";function e(n){var r,i;if(t(a)(this,e),void 0===n.host){if(void 0!==n.ssl)throw new Na(La.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=n.host,this.ssl=null===(r=n.ssl)||void 0===r||r;if(this.credentials=n.credentials,this.ignoreUndefinedProperties=!!n.ignoreUndefinedProperties,this.cache=n.localCache,void 0===n.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==n.cacheSizeBytes&&n.cacheSizeBytes<1048576)throw new Na(La.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=n.cacheSizeBytes}(function(t,e,n,r){if(!0===e&&!0===r)throw new Na(La.INVALID_ARGUMENT,"".concat(t," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",n.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",n.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!n.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===n.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!n.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Ss(null!==(i=n.experimentalLongPollingOptions)&&void 0!==i?i:{}),function(t){if(void 0!==t.timeoutSeconds){if(isNaN(t.timeoutSeconds))throw new Na(La.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(t.timeoutSeconds," (must not be NaN)"));if(t.timeoutSeconds<5)throw new Na(La.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(t.timeoutSeconds," (minimum allowed value is 5)"));if(t.timeoutSeconds>30)throw new Na(La.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(t.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!n.useFetchStreams}return t(s)(e,[{key:"isEqual",value:function(t){var e,n;return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(e=this.experimentalLongPollingOptions,n=t.experimentalLongPollingOptions,e.timeoutSeconds===n.timeoutSeconds)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}]),e}(),xs=function(){"use strict";function e(n,r,i,o){t(a)(this,e),this._authCredentials=n,this._appCheckCredentials=r,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Cs({}),this._settingsFrozen=!1}return t(s)(e,[{key:"app",get:function(){if(!this._app)throw new Na(La.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(t){if(this._settingsFrozen)throw new Na(La.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Cs(t),void 0!==t.credentials&&(this._authCredentials=function(t){if(!t)return new Ma;switch(t.type){case"firstParty":return new Ba(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Na(La.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return t=this,(e=Ts.get(t))&&(Aa("ComponentProvider","Removing Datastore"),Ts.delete(t),e.terminate()),Promise.resolve();var t,e}}]),e}();function Ds(t,e,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=(t=Is(t,xs))._getSettings(),a="".concat(e,":").concat(n);if("firestore.googleapis.com"!==o.host&&o.host!==a&&Ca("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:a,ssl:!1})),i.mockUserToken){var s,u;if("string"==typeof i.mockUserToken)s=i.mockUserToken,u=_a.MOCK_USER;else{s=lt(i.mockUserToken,null===(r=t._app)||void 0===r?void 0:r.options.projectId);var c=i.mockUserToken.sub||i.mockUserToken.user_id;if(!c)throw new Na(La.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new _a(c)}t._authCredentials=new ja(new Pa(s,u))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Os=function(){"use strict";function e(){var n=this;t(a)(this,e),this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new ws(this,"async_queue_retry"),this.Xc=function(){var t=bs();t&&Aa("AsyncQueue","Visibility state changed to "+t.visibilityState),n.qo.Mo()};var r=bs();r&&"function"==typeof r.addEventListener&&r.addEventListener("visibilitychange",this.Xc)}return t(s)(e,[{key:"isShuttingDown",get:function(){return this.jc}},{key:"enqueueAndForget",value:function(t){this.enqueue(t)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(t){this.Zc(),this.ta(t)}},{key:"enterRestrictedMode",value:function(t){if(!this.jc){this.jc=!0,this.Jc=t||!1;var e=bs();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Xc)}}},{key:"enqueue",value:function(t){var e=this;if(this.Zc(),this.jc)return new Promise((function(){}));var n=new Ra;return this.ta((function(){return e.jc&&e.Jc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(t){var e=this;this.enqueueAndForget((function(){return e.Qc.push(t),e.ea()}))}},{key:"ea",value:function(){var e=this;return t(Et)(t(St).mark((function n(){return t(St).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0===e.Qc.length){t.next=14;break}return t.prev=1,t.next=4,e.Qc[0]();case 4:e.Qc.shift(),e.qo.reset(),t.next=13;break;case 8:if(t.prev=8,t.t0=t.catch(1),Ja(t.t0)){t.next=12;break}throw t.t0;case 12:Aa("AsyncQueue","Operation failed with retryable error: "+t.t0);case 13:e.Qc.length>0&&e.qo.No((function(){return e.ea()}));case 14:case"end":return t.stop()}}),n,null,[[1,8]])})))()}},{key:"ta",value:function(t){var e=this,n=this.Gc.then((function(){return e.Hc=!0,t().catch((function(t){var n,r;throw e.Wc=t,e.Hc=!1,Ia("INTERNAL UNHANDLED ERROR: ",(r=(n=t).message||"",n.stack&&(r=n.stack.includes(n.message)?n.stack:n.message+"\n"+n.stack),r)),t})).then((function(t){return e.Hc=!1,t}))}));return this.Gc=n,n}},{key:"enqueueAfterDelay",value:function(t,e,n){var r=this;this.Zc(),this.Yc.indexOf(t)>-1&&(e=0);var i=ks.createAndSchedule(this,t,e,n,(function(t){return r.na(t)}));return this.zc.push(i),i}},{key:"Zc",value:function(){this.Wc&&Da()}},{key:"verifyOperationInProgress",value:function(){}},{key:"sa",value:function(){var e=this;return t(Et)(t(St).mark((function n(){var r;return t(St).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case 1:return r=e.Gc,t.next=4,r;case 4:if(r!==e.Gc){t.next=1;break}case 5:case"end":return t.stop()}}),n)})))()}},{key:"ia",value:function(t){var e=!0,n=!1,r=void 0;try{for(var i,o=this.zc[Symbol.iterator]();!(e=(i=o.next()).done);e=!0){if(i.value.timerId===t)return!0}}catch(t){n=!0,r=t}finally{try{e||null==o.return||o.return()}finally{if(n)throw r}}return!1}},{key:"ra",value:function(t){var e=this;return this.sa().then((function(){e.zc.sort((function(t,e){return t.targetTimeMs-e.targetTimeMs}));var n=!0,r=!1,i=void 0;try{for(var o,a=e.zc[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;if(s.skipDelay(),"all"!==t&&s.timerId===t)break}}catch(t){r=!0,i=t}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}return e.sa()}))}},{key:"oa",value:function(t){this.Yc.push(t)}},{key:"na",value:function(t){var e=this.zc.indexOf(t);this.zc.splice(e,1)}}]),e}();var Ls=function(e){"use strict";t(h)(r,e);var n=t(N)(r);function r(e,i,o,s){var u;return t(a)(this,r),(u=n.call(this,e,i,o,s)).type="firestore",u._queue=new Os,u._persistenceKey=(null==s?void 0:s.name)||"[DEFAULT]",t(un)(u)}return t(s)(r,[{key:"_terminate",value:function(){return this._firestoreClient||Ns(this),this._firestoreClient.terminate()}}]),r}(xs);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ns(t){var e,n,r,i,o,a,s,u=t._freezeSettings(),c=(i=t._databaseId,o=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",a=t._persistenceKey,new fs(i,o,a,(s=u).host,s.ssl,s.experimentalForceLongPolling,s.experimentalAutoDetectLongPolling,Ss(s.experimentalLongPollingOptions),s.useFetchStreams));t._firestoreClient=new _s(t._authCredentials,t._appCheckCredentials,t._queue,c),(null===(n=u.cache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=u.cache)||void 0===r?void 0:r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:u.cache.kind,_offline:u.cache._offlineComponentProvider,_online:u.cache._onlineComponentProvider})}new RegExp("[~\\*/\\[\\]]");!function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];Sa=Te,me(new At("firestore",(function(t,n){var r=n.instanceIdentifier,i=n.options,o=t.getProvider("app").getImmediate(),a=new Ls(new Fa(t.getProvider("auth-internal")),new Ha(t.getProvider("app-check-internal")),function(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Na(La.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ps(t.options.projectId,e)}(o,r),o);return i=Object.assign({useFetchStreams:e},i),a._setSettings(i),a}),"PUBLIC").setMultipleInstances(!0)),Oe(Ea,"3.13.0",t),Oe(Ea,"3.13.0","esm2017")}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Oe("firebase","9.23.0","app");(function(e,n){var r="string"==typeof e?e:n||"(default)",i=be("object"==typeof e?e:Ie(),"firestore").getImmediate({identifier:r});if(!i._initialized){var o=st("firestore");o&&Ds.apply(void 0,[i].concat(t(w)(o)))}return i})(Ae({apiKey:"AIzaSyAWL009d3fIg7FDNeFa1MpQ8vcCju1UWEQ",authDomain:"project-js-fson82.firebaseapp.com",databaseURL:"https://project-js-fson82-default-rtdb.firebaseio.com",projectId:"project-js-fson82",storageBucket:"project-js-fson82.appspot.com",messagingSenderId:"729076020797",appId:"1:729076020797:web:e3a2da2c14a169a281dc54"})).collection("users").add({first:"Ada",last:"Lovelace",born:1815}).then((function(t){console.log("Document written with ID: ",t.id)})).catch((function(t){console.error("Error adding document: ",t)})),newMessageRef={name:"Igor",email:"chigorv@ukr.net",subject:"subject test",message:"1234567890"}}();
//# sourceMappingURL=index.f3d61898.js.map
